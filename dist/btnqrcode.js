!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("buffer"),require("fs"),require("util"),require("stream"),require("zlib"),require("assert")):"function"==typeof define&&define.amd?define(["buffer","fs","util","stream","zlib","assert"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).btnqrcode=e(t.buffer$1,t.fs,t.util,t.stream,t.zlib,t.assert)}(this,(function(t,e,r,n,o,i){"use strict";function a(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var s=a(t),c=a(e),u=a(r),f=a(n),l=a(o),p=a(i);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function h(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function d(t,e){return t(e={exports:{}},e.exports),e.exports}var g=h(d((function(t){function e(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}t.exports=function(t){return function(){var r=this,n=arguments;return new Promise((function(o,i){var a=t.apply(r,n);function s(t){e(a,o,i,s,c,"next",t)}function c(t){e(a,o,i,s,c,"throw",t)}s(void 0)}))}},t.exports.default=t.exports,t.exports.__esModule=!0}))),m=h(d((function(t){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.default=t.exports,t.exports.__esModule=!0}))),v=h(d((function(t){function e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t},t.exports.default=t.exports,t.exports.__esModule=!0}))),y=d((function(t){var e=function(t){var e,r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=Object.create((e&&e.prototype instanceof m?e:m).prototype),i=new L(n||[]);return o._invoke=function(t,e,r){var n=l;return function(o,i){if(n===h)throw new Error("Generator is already running");if(n===d){if("throw"===o)throw i;return P()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=O(a,r);if(s){if(s===g)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===l)throw n=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=h;var c=f(t,e,r);if("normal"===c.type){if(n=r.done?d:p,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=d,r.method="throw",r.arg=c.arg)}}}(t,r,i),o}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l="suspendedStart",p="suspendedYield",h="executing",d="completed",g={};function m(){}function v(){}function y(){}var b={};b[i]=function(){return this};var w=Object.getPrototypeOf,E=w&&w(w(C([])));E&&E!==r&&n.call(E,i)&&(b=E);var _=y.prototype=m.prototype=Object.create(b);function x(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function O(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,O(t,r),"throw"===r.method))return g;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var o=f(n,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,g;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(t){if(t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}return{next:P}}function P(){return{value:e,done:!0}}return v.prototype=_.constructor=y,y.constructor=v,v.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,c(t,s,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},x(T.prototype),T.prototype[a]=function(){return this},t.AsyncIterator=T,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new T(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(_),c(_,s,"Generator"),_[i]=function(){return this},_.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=C,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:C(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}})),b=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then},w=function(){try{if(!Buffer.isEncoding("latin1"))return!1;var t=Buffer.alloc?Buffer.alloc(4):new Buffer(4);return t.fill("ab","ucs2"),"61006200"===t.toString("hex")}catch(t){return!1}}();function E(t,e,r,n){if(r<0||n>t.length)throw new RangeError("Out of range index");return(n=void 0===n?t.length:n>>>0)>(r>>>=0)&&t.fill(e,r,n),t}var _=function(t,e,r,n,o){if(w)return t.fill(e,r,n,o);if("number"==typeof e)return E(t,e,r,n);if("string"==typeof e){if("string"==typeof r?(o=r,r=0,n=t.length):"string"==typeof n&&(o=n,n=t.length),void 0!==o&&"string"!=typeof o)throw new TypeError("encoding must be a string");if("latin1"===o&&(o="binary"),"string"==typeof o&&!Buffer.isEncoding(o))throw new TypeError("Unknown encoding: "+o);if(""===e)return E(t,0,r,n);if(function(t){return 1===t.length&&t.charCodeAt(0)<256}(e))return E(t,e.charCodeAt(0),r,n);e=new Buffer(e,o)}return Buffer.isBuffer(e)?function(t,e,r,n){if(r<0||n>t.length)throw new RangeError("Out of range index");if(n<=r)return t;n=void 0===n?t.length:n>>>0;for(var o=r>>>=0,i=e.length;o<=n-i;)e.copy(t,o),o+=i;return o!==n&&e.copy(t,o,0,n-o),t}(t,e,r,n):E(t,0,r,n)};var x=function(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative');return Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t)},T=Object.prototype.toString,O="function"==typeof Buffer.alloc&&"function"==typeof Buffer.allocUnsafe&&"function"==typeof Buffer.from;var A,k={alloc:function(t,e,r){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative');if(Buffer.alloc)return Buffer.alloc(t,e,r);var n=x(t);return 0===t?n:void 0===e?_(n,0):("string"!=typeof r&&(r=void 0),_(n,e,r))},from:function(t,e,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"ArrayBuffer"===T.call(t).slice(8,-1)?function(t,e,r){var n=t.byteLength-(e>>>=0);if(n<0)throw new RangeError("'offset' is out of bounds");if(void 0===r)r=n;else if((r>>>=0)>n)throw new RangeError("'length' is out of bounds");return O?Buffer.from(t.slice(e,e+r)):new Buffer(new Uint8Array(t.slice(e,e+r)))}(t,e,r):"string"==typeof t?function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!Buffer.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');return O?Buffer.from(t,e):new Buffer(t,e)}(t,e):O?Buffer.from(t):new Buffer(t)}},L=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706],C=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return 4*t+17},P=function(t){return L[t]},I=function(t){for(var e=0;0!==t;)e++,t>>>=1;return e},R=function(t){if("function"!=typeof t)throw new Error('"toSJISFunc" is not a valid function.');A=t},B=function(){return void 0!==A},S=function(t){return A(t)},N=d((function(t,e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2},e.isValid=function(t){return t&&void 0!==t.bit&&t.bit>=0&&t.bit<4},e.from=function(t,r){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+t)}}(t)}catch(t){return r}}}));function D(){this.buffer=[],this.length=0}D.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var r=0;r<e;r++)this.putBit(1==(t>>>e-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var M=D;function j(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=k.alloc(t*t),this.reservedBit=k.alloc(t*t)}j.prototype.set=function(t,e,r,n){var o=t*this.size+e;this.data[o]=r,n&&(this.reservedBit[o]=!0)},j.prototype.get=function(t,e){return this.data[t*this.size+e]},j.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r},j.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var U=j,q=d((function(t,e){var r=C;e.getRowColCoords=function(t){if(1===t)return[];for(var e=Math.floor(t/7)+2,n=r(t),o=145===n?26:2*Math.ceil((n-13)/(2*e-2)),i=[n-7],a=1;a<e-1;a++)i[a]=i[a-1]-o;return i.push(6),i.reverse()},e.getPositions=function(t){for(var r=[],n=e.getRowColCoords(t),o=n.length,i=0;i<o;i++)for(var a=0;a<o;a++)0===i&&0===a||0===i&&a===o-1||i===o-1&&0===a||r.push([n[i],n[a]]);return r}})),H=C,Y=function(t){var e=H(t);return[[0,0],[e-7,0],[0,e-7]]},F=d((function(t,e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var r=3,n=3,o=40,i=10;function a(t,r,n){switch(t){case e.Patterns.PATTERN000:return(r+n)%2==0;case e.Patterns.PATTERN001:return r%2==0;case e.Patterns.PATTERN010:return n%3==0;case e.Patterns.PATTERN011:return(r+n)%3==0;case e.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(n/3))%2==0;case e.Patterns.PATTERN101:return r*n%2+r*n%3==0;case e.Patterns.PATTERN110:return(r*n%2+r*n%3)%2==0;case e.Patterns.PATTERN111:return(r*n%3+(r+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}e.isValid=function(t){return null!=t&&""!==t&&!isNaN(t)&&t>=0&&t<=7},e.from=function(t){return e.isValid(t)?parseInt(t,10):void 0},e.getPenaltyN1=function(t){for(var e=t.size,n=0,o=0,i=0,a=null,s=null,c=0;c<e;c++){o=i=0,a=s=null;for(var u=0;u<e;u++){var f=t.get(c,u);f===a?o++:(o>=5&&(n+=r+(o-5)),a=f,o=1),(f=t.get(u,c))===s?i++:(i>=5&&(n+=r+(i-5)),s=f,i=1)}o>=5&&(n+=r+(o-5)),i>=5&&(n+=r+(i-5))}return n},e.getPenaltyN2=function(t){for(var e=t.size,r=0,o=0;o<e-1;o++)for(var i=0;i<e-1;i++){var a=t.get(o,i)+t.get(o,i+1)+t.get(o+1,i)+t.get(o+1,i+1);4!==a&&0!==a||r++}return r*n},e.getPenaltyN3=function(t){for(var e=t.size,r=0,n=0,i=0,a=0;a<e;a++){n=i=0;for(var s=0;s<e;s++)n=n<<1&2047|t.get(a,s),s>=10&&(1488===n||93===n)&&r++,i=i<<1&2047|t.get(s,a),s>=10&&(1488===i||93===i)&&r++}return r*o},e.getPenaltyN4=function(t){for(var e=0,r=t.data.length,n=0;n<r;n++)e+=t.data[n];return Math.abs(Math.ceil(100*e/r/5)-10)*i},e.applyMask=function(t,e){for(var r=e.size,n=0;n<r;n++)for(var o=0;o<r;o++)e.isReserved(o,n)||e.xor(o,n,a(t,o,n))},e.getBestMask=function(t,r){for(var n=Object.keys(e.Patterns).length,o=0,i=1/0,a=0;a<n;a++){r(a),e.applyMask(a,t);var s=e.getPenaltyN1(t)+e.getPenaltyN2(t)+e.getPenaltyN3(t)+e.getPenaltyN4(t);e.applyMask(a,t),s<i&&(i=s,o=a)}return o}})),V=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],z=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430],W=function(t,e){switch(e){case N.L:return V[4*(t-1)+0];case N.M:return V[4*(t-1)+1];case N.Q:return V[4*(t-1)+2];case N.H:return V[4*(t-1)+3];default:return}},G=function(t,e){switch(e){case N.L:return z[4*(t-1)+0];case N.M:return z[4*(t-1)+1];case N.Q:return z[4*(t-1)+2];case N.H:return z[4*(t-1)+3];default:return}},J=k.alloc(512),K=k.alloc(256);!function(){for(var t=1,e=0;e<255;e++)J[e]=t,K[t]=e,256&(t<<=1)&&(t^=285);for(e=255;e<512;e++)J[e]=J[e-255]}();var $=function(t){return J[t]},Q=function(t,e){return 0===t||0===e?0:J[K[t]+K[e]]},Z=d((function(t,e){e.mul=function(t,e){for(var r=k.alloc(t.length+e.length-1),n=0;n<t.length;n++)for(var o=0;o<e.length;o++)r[n+o]^=Q(t[n],e[o]);return r},e.mod=function(t,e){for(var r=k.from(t);r.length-e.length>=0;){for(var n=r[0],o=0;o<e.length;o++)r[o]^=Q(e[o],n);for(var i=0;i<r.length&&0===r[i];)i++;r=r.slice(i)}return r},e.generateECPolynomial=function(t){for(var r=k.from([1]),n=0;n<t;n++)r=e.mul(r,[1,$(n)]);return r}})),X=s.default.Buffer;function tt(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}tt.prototype.initialize=function(t){this.degree=t,this.genPoly=Z.generateECPolynomial(this.degree)},tt.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");var e=k.alloc(this.degree),r=X.concat([t,e],t.length+this.degree),n=Z.mod(r,this.genPoly),o=this.degree-n.length;if(o>0){var i=k.alloc(this.degree);return n.copy(i,o),i}return n};var et=tt,rt=function(t){return!isNaN(t)&&t>=1&&t<=40},nt="[0-9]+",ot="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",it="(?:(?![A-Z0-9 $%*+\\-./:]|"+(ot=ot.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+",at=new RegExp(ot,"g"),st=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),ct=new RegExp(it,"g"),ut=new RegExp(nt,"g"),ft=new RegExp("[A-Z $%*+\\-./:]+","g"),lt=new RegExp("^"+ot+"$"),pt=new RegExp("^[0-9]+$"),ht=new RegExp("^[A-Z0-9 $%*+\\-./:]+$"),dt={KANJI:at,BYTE_KANJI:st,BYTE:ct,NUMERIC:ut,ALPHANUMERIC:ft,testKanji:function(t){return lt.test(t)},testNumeric:function(t){return pt.test(t)},testAlphanumeric:function(t){return ht.test(t)}},gt=d((function(t,e){e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(t,e){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!rt(e))throw new Error("Invalid version: "+e);return e>=1&&e<10?t.ccBits[0]:e<27?t.ccBits[1]:t.ccBits[2]},e.getBestModeForData=function(t){return dt.testNumeric(t)?e.NUMERIC:dt.testAlphanumeric(t)?e.ALPHANUMERIC:dt.testKanji(t)?e.KANJI:e.BYTE},e.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},e.isValid=function(t){return t&&t.bit&&t.ccBits},e.from=function(t,r){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+t)}}(t)}catch(t){return r}}})),mt={}.toString,vt=Array.isArray||function(t){return"[object Array]"==mt.call(t)},yt=d((function(t,e){var r=I(7973);function n(t,e){return gt.getCharCountIndicator(t,e)+4}function o(t,e){var r=0;return t.forEach((function(t){var o=n(t.mode,e);r+=o+t.getBitsLength()})),r}e.from=function(t,e){return rt(t)?parseInt(t,10):e},e.getCapacity=function(t,e,r){if(!rt(t))throw new Error("Invalid QR Code version");void 0===r&&(r=gt.BYTE);var o=8*(P(t)-G(t,e));if(r===gt.MIXED)return o;var i=o-n(r,t);switch(r){case gt.NUMERIC:return Math.floor(i/10*3);case gt.ALPHANUMERIC:return Math.floor(i/11*2);case gt.KANJI:return Math.floor(i/13);case gt.BYTE:default:return Math.floor(i/8)}},e.getBestVersionForData=function(t,r){var n,i=N.from(r,N.M);if(vt(t)){if(t.length>1)return function(t,r){for(var n=1;n<=40;n++)if(o(t,n)<=e.getCapacity(n,r,gt.MIXED))return n}(t,i);if(0===t.length)return 1;n=t[0]}else n=t;return function(t,r,n){for(var o=1;o<=40;o++)if(r<=e.getCapacity(o,n,t))return o}(n.mode,n.getLength(),i)},e.getEncodedBits=function(t){if(!rt(t)||t<7)throw new Error("Invalid QR Code version");for(var e=t<<12;I(e)-r>=0;)e^=7973<<I(e)-r;return t<<12|e}})),bt=I(1335),wt=function(t,e){for(var r=t.bit<<3|e,n=r<<10;I(n)-bt>=0;)n^=1335<<I(n)-bt;return 21522^(r<<10|n)};function Et(t){this.mode=gt.NUMERIC,this.data=t.toString()}Et.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},Et.prototype.getLength=function(){return this.data.length},Et.prototype.getBitsLength=function(){return Et.getBitsLength(this.data.length)},Et.prototype.write=function(t){var e,r,n;for(e=0;e+3<=this.data.length;e+=3)r=this.data.substr(e,3),n=parseInt(r,10),t.put(n,10);var o=this.data.length-e;o>0&&(r=this.data.substr(e),n=parseInt(r,10),t.put(n,3*o+1))};var _t=Et,xt=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Tt(t){this.mode=gt.ALPHANUMERIC,this.data=t}Tt.getBitsLength=function(t){return 11*Math.floor(t/2)+t%2*6},Tt.prototype.getLength=function(){return this.data.length},Tt.prototype.getBitsLength=function(){return Tt.getBitsLength(this.data.length)},Tt.prototype.write=function(t){var e;for(e=0;e+2<=this.data.length;e+=2){var r=45*xt.indexOf(this.data[e]);r+=xt.indexOf(this.data[e+1]),t.put(r,11)}this.data.length%2&&t.put(xt.indexOf(this.data[e]),6)};var Ot=Tt;function At(t){this.mode=gt.BYTE,this.data=k.from(t)}At.getBitsLength=function(t){return 8*t},At.prototype.getLength=function(){return this.data.length},At.prototype.getBitsLength=function(){return At.getBitsLength(this.data.length)},At.prototype.write=function(t){for(var e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)};var kt=At;function Lt(t){this.mode=gt.KANJI,this.data=t}Lt.getBitsLength=function(t){return 13*t},Lt.prototype.getLength=function(){return this.data.length},Lt.prototype.getBitsLength=function(){return Lt.getBitsLength(this.data.length)},Lt.prototype.write=function(t){var e;for(e=0;e<this.data.length;e++){var r=S(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else{if(!(r>=57408&&r<=60351))throw new Error("Invalid SJIS character: "+this.data[e]+"\nMake sure your charset is UTF-8");r-=49472}t.put(r=192*(r>>>8&255)+(255&r),13)}};var Ct=Lt,Pt=d((function(t){var e={single_source_shortest_paths:function(t,r,n){var o={},i={};i[r]=0;var a,s,c,u,f,l,p=e.PriorityQueue.make();for(p.push(r,0);!p.empty();)for(c in u=(a=p.pop()).cost,f=t[s=a.value]||{})f.hasOwnProperty(c)&&(l=u+f[c],(void 0===i[c]||i[c]>l)&&(i[c]=l,p.push(c,l),o[c]=s));if(void 0!==n&&void 0===i[n]){var h=["Could not find a path from ",r," to ",n,"."].join("");throw new Error(h)}return o},extract_shortest_path_from_predecessor_list:function(t,e){for(var r=[],n=e;n;)r.push(n),n=t[n];return r.reverse(),r},find_path:function(t,r,n){var o=e.single_source_shortest_paths(t,r,n);return e.extract_shortest_path_from_predecessor_list(o,n)},PriorityQueue:{make:function(t){var r,n=e.PriorityQueue,o={};for(r in t=t||{},n)n.hasOwnProperty(r)&&(o[r]=n[r]);return o.queue=[],o.sorter=t.sorter||n.default_sorter,o},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){this.queue.push({value:t,cost:e}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};t.exports=e})),It=d((function(t,e){function r(t){return unescape(encodeURIComponent(t)).length}function n(t,e,r){for(var n,o=[];null!==(n=t.exec(r));)o.push({data:n[0],index:n.index,mode:e,length:n[0].length});return o}function o(t){var e,r,o=n(dt.NUMERIC,gt.NUMERIC,t),i=n(dt.ALPHANUMERIC,gt.ALPHANUMERIC,t);return B()?(e=n(dt.BYTE,gt.BYTE,t),r=n(dt.KANJI,gt.KANJI,t)):(e=n(dt.BYTE_KANJI,gt.BYTE,t),r=[]),o.concat(i,e,r).sort((function(t,e){return t.index-e.index})).map((function(t){return{data:t.data,mode:t.mode,length:t.length}}))}function i(t,e){switch(e){case gt.NUMERIC:return _t.getBitsLength(t);case gt.ALPHANUMERIC:return Ot.getBitsLength(t);case gt.KANJI:return Ct.getBitsLength(t);case gt.BYTE:return kt.getBitsLength(t)}}function a(t,e){var r,n=gt.getBestModeForData(t);if((r=gt.from(e,n))!==gt.BYTE&&r.bit<n.bit)throw new Error('"'+t+'" cannot be encoded with mode '+gt.toString(r)+".\n Suggested mode is: "+gt.toString(n));switch(r!==gt.KANJI||B()||(r=gt.BYTE),r){case gt.NUMERIC:return new _t(t);case gt.ALPHANUMERIC:return new Ot(t);case gt.KANJI:return new Ct(t);case gt.BYTE:return new kt(t)}}e.fromArray=function(t){return t.reduce((function(t,e){return"string"==typeof e?t.push(a(e,null)):e.data&&t.push(a(e.data,e.mode)),t}),[])},e.fromString=function(t,n){for(var a=function(t,e){for(var r={},n={start:{}},o=["start"],a=0;a<t.length;a++){for(var s=t[a],c=[],u=0;u<s.length;u++){var f=s[u],l=""+a+u;c.push(l),r[l]={node:f,lastCount:0},n[l]={};for(var p=0;p<o.length;p++){var h=o[p];r[h]&&r[h].node.mode===f.mode?(n[h][l]=i(r[h].lastCount+f.length,f.mode)-i(r[h].lastCount,f.mode),r[h].lastCount+=f.length):(r[h]&&(r[h].lastCount=f.length),n[h][l]=i(f.length,f.mode)+4+gt.getCharCountIndicator(f.mode,e))}}o=c}for(p=0;p<o.length;p++)n[o[p]].end=0;return{map:n,table:r}}(function(t){for(var e=[],n=0;n<t.length;n++){var o=t[n];switch(o.mode){case gt.NUMERIC:e.push([o,{data:o.data,mode:gt.ALPHANUMERIC,length:o.length},{data:o.data,mode:gt.BYTE,length:o.length}]);break;case gt.ALPHANUMERIC:e.push([o,{data:o.data,mode:gt.BYTE,length:o.length}]);break;case gt.KANJI:e.push([o,{data:o.data,mode:gt.BYTE,length:r(o.data)}]);break;case gt.BYTE:e.push([{data:o.data,mode:gt.BYTE,length:r(o.data)}])}}return e}(o(t)),n),s=Pt.find_path(a.map,"start","end"),c=[],u=1;u<s.length-1;u++)c.push(a.table[s[u]].node);return e.fromArray(function(t){return t.reduce((function(t,e){var r=t.length-1>=0?t[t.length-1]:null;return r&&r.mode===e.mode?(t[t.length-1].data+=e.data,t):(t.push(e),t)}),[])}(c))},e.rawSplit=function(t){return e.fromArray(o(t))}}));function Rt(t,e,r){var n,o,i=t.size,a=wt(e,r);for(n=0;n<15;n++)t.set(n<6?n:n<8?n+1:i-15+n,8,o=1==(a>>n&1),!0),t.set(8,n<8?i-n-1:n<9?15-n-1+1:15-n-1,o,!0);t.set(i-8,8,1,!0)}function Bt(t,e,r){for(var n=P(e),o=n-G(e,r),i=W(e,r),a=i-n%i,s=Math.floor(n/i),c=Math.floor(o/i),u=c+1,f=s-c,l=new et(f),p=0,h=new Array(i),d=new Array(i),g=0,m=k.from(t.buffer),v=0;v<i;v++){var y=v<a?c:u;h[v]=m.slice(p,p+y),d[v]=l.encode(h[v]),p+=y,g=Math.max(g,y)}var b,w,E=k.alloc(n),_=0;for(b=0;b<g;b++)for(w=0;w<i;w++)b<h[w].length&&(E[_++]=h[w][b]);for(b=0;b<f;b++)for(w=0;w<i;w++)E[_++]=d[w][b];return E}function St(t,e,r,n){var o;if(vt(t))o=It.fromArray(t);else{if("string"!=typeof t)throw new Error("Invalid data");var i=e;if(!i){var a=It.rawSplit(t);i=yt.getBestVersionForData(a,r)}o=It.fromString(t,i||40)}var s=yt.getBestVersionForData(o,r);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(e){if(e<s)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+s+".\n")}else e=s;var c=function(t,e,r){var n=new M;r.forEach((function(e){n.put(e.mode.bit,4),n.put(e.getLength(),gt.getCharCountIndicator(e.mode,t)),e.write(n)}));var o=8*(P(t)-G(t,e));for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!=0;)n.putBit(0);for(var i=(o-n.getLengthInBits())/8,a=0;a<i;a++)n.put(a%2?17:236,8);return Bt(n,t,e)}(e,r,o),u=C(e),f=new U(u);return function(t,e){for(var r=t.size,n=Y(e),o=0;o<n.length;o++)for(var i=n[o][0],a=n[o][1],s=-1;s<=7;s++)if(!(i+s<=-1||r<=i+s))for(var c=-1;c<=7;c++)a+c<=-1||r<=a+c||t.set(i+s,a+c,s>=0&&s<=6&&(0===c||6===c)||c>=0&&c<=6&&(0===s||6===s)||s>=2&&s<=4&&c>=2&&c<=4,!0)}(f,e),function(t){for(var e=t.size,r=8;r<e-8;r++){var n=r%2==0;t.set(r,6,n,!0),t.set(6,r,n,!0)}}(f),function(t,e){for(var r=q.getPositions(e),n=0;n<r.length;n++)for(var o=r[n][0],i=r[n][1],a=-2;a<=2;a++)for(var s=-2;s<=2;s++)t.set(o+a,i+s,-2===a||2===a||-2===s||2===s||0===a&&0===s,!0)}(f,e),Rt(f,r,0),e>=7&&function(t,e){for(var r,n,o,i=t.size,a=yt.getEncodedBits(e),s=0;s<18;s++)r=Math.floor(s/3),t.set(r,n=s%3+i-8-3,o=1==(a>>s&1),!0),t.set(n,r,o,!0)}(f,e),function(t,e){for(var r=t.size,n=-1,o=r-1,i=7,a=0,s=r-1;s>0;s-=2)for(6===s&&s--;;){for(var c=0;c<2;c++)if(!t.isReserved(o,s-c)){var u=!1;a<e.length&&(u=1==(e[a]>>>i&1)),t.set(o,s-c,u),-1==--i&&(a++,i=7)}if((o+=n)<0||r<=o){o-=n,n=-n;break}}}(f,c),isNaN(n)&&(n=F.getBestMask(f,Rt.bind(null,f,r))),F.applyMask(n,f),Rt(f,r,n),{modules:f,version:e,errorCorrectionLevel:r,maskPattern:n,segments:o}}var Nt=function(t,e){if(void 0===t||""===t)throw new Error("No input text");var r,n,o=N.M;return void 0!==e&&(o=N.from(e.errorCorrectionLevel,N.M),r=yt.from(e.version),n=F.from(e.maskPattern),e.toSJISFunc&&R(e.toSJISFunc)),St(t,r,o,n)},Dt=d((function(t){var e=t.exports=function(){f.default.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};u.default.inherits(e,f.default),e.prototype.read=function(t,e){this._reads.push({length:Math.abs(t),allowLess:t<0,func:e}),process.nextTick(function(){this._process(),this._paused&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}.bind(this))},e.prototype.write=function(t,e){return this.writable?(r=Buffer.isBuffer(t)?t:new Buffer(t,e||this._encoding),this._buffers.push(r),this._buffered+=r.length,this._process(),this._reads&&0===this._reads.length&&(this._paused=!0),this.writable&&!this._paused):(this.emit("error",new Error("Stream not writable")),!1);var r},e.prototype.end=function(t,e){t&&this.write(t,e),this.writable=!1,this._buffers&&(0===this._buffers.length?this._end():(this._buffers.push(null),this._process()))},e.prototype.destroySoon=e.prototype.end,e.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("Unexpected end of input")),this.destroy()},e.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))},e.prototype._processReadAllowingLess=function(t){this._reads.shift();var e=this._buffers[0];e.length>t.length?(this._buffered-=t.length,this._buffers[0]=e.slice(t.length),t.func.call(this,e.slice(0,t.length))):(this._buffered-=e.length,this._buffers.shift(),t.func.call(this,e))},e.prototype._processRead=function(t){this._reads.shift();for(var e=0,r=0,n=new Buffer(t.length);e<t.length;){var o=this._buffers[r++],i=Math.min(o.length,t.length-e);o.copy(n,e,0,i),e+=i,i!==o.length&&(this._buffers[--r]=o.slice(i))}r>0&&this._buffers.splice(0,r),this._buffered-=t.length,t.func.call(this,n)},e.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){var t=this._reads[0];if(t.allowLess)this._processReadAllowingLess(t);else{if(!(this._buffered>=t.length))break;this._processRead(t)}}this._buffers&&!this.writable&&this._end()}catch(t){this.emit("error",t)}}})),Mt=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}],jt=function(t,e){for(var r=[],n=t%8,o=e%8,i=(t-n)/8,a=(e-o)/8,s=0;s<Mt.length;s++){for(var c=Mt[s],u=i*c.x.length,f=a*c.y.length,l=0;l<c.x.length&&c.x[l]<n;l++)u++;for(l=0;l<c.y.length&&c.y[l]<o;l++)f++;u>0&&f>0&&r.push({width:u,height:f,index:s})}return r},Ut=function(t){return function(e,r,n){var o=e%Mt[n].x.length,i=r%Mt[n].y.length;return 4*((e-o)/Mt[n].x.length*8+Mt[n].x[o])+((r-i)/Mt[n].y.length*8+Mt[n].y[i])*t*4}},qt=function(t,e,r){var n=t+e-r,o=Math.abs(n-t),i=Math.abs(n-e),a=Math.abs(n-r);return o<=i&&o<=a?t:i<=a?e:r},Ht=d((function(t){function e(t,e,r){var n=t*e;return 8!==r&&(n=Math.ceil(n/(8/r))),n}var r=t.exports=function(t,r){var n=t.width,o=t.height,i=t.interlace,a=t.bpp,s=t.depth;if(this.read=r.read,this.write=r.write,this.complete=r.complete,this._imageIndex=0,this._images=[],i)for(var c=jt(n,o),u=0;u<c.length;u++)this._images.push({byteWidth:e(c[u].width,a,s),height:c[u].height,lineIndex:0});else this._images.push({byteWidth:e(n,a,s),height:o,lineIndex:0});this._xComparison=8===s?a:16===s?2*a:1};r.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))},r.prototype._unFilterType1=function(t,e,r){for(var n=this._xComparison,o=n-1,i=0;i<r;i++){e[i]=t[1+i]+(i>o?e[i-n]:0)}},r.prototype._unFilterType2=function(t,e,r){for(var n=this._lastLine,o=0;o<r;o++){e[o]=t[1+o]+(n?n[o]:0)}},r.prototype._unFilterType3=function(t,e,r){for(var n=this._xComparison,o=n-1,i=this._lastLine,a=0;a<r;a++){var s=t[1+a],c=Math.floor(((a>o?e[a-n]:0)+(i?i[a]:0))/2);e[a]=s+c}},r.prototype._unFilterType4=function(t,e,r){for(var n=this._xComparison,o=n-1,i=this._lastLine,a=0;a<r;a++){var s=t[1+a],c=qt(a>o?e[a-n]:0,i?i[a]:0,a>o&&i?i[a-n]:0);e[a]=s+c}},r.prototype._reverseFilterLine=function(t){var e,r=t[0],n=this._images[this._imageIndex],o=n.byteWidth;if(0===r)e=t.slice(1,o+1);else switch(e=new Buffer(o),r){case 1:this._unFilterType1(t,e,o);break;case 2:this._unFilterType2(t,e,o);break;case 3:this._unFilterType3(t,e,o);break;case 4:this._unFilterType4(t,e,o);break;default:throw new Error("Unrecognised filter type - "+r)}this.write(e),n.lineIndex++,n.lineIndex>=n.height?(this._lastLine=null,this._imageIndex++,n=this._images[this._imageIndex]):this._lastLine=e,n?this.read(n.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}})),Yt=d((function(t){var e=t.exports=function(t){Dt.call(this);var e=[],r=this;this._filter=new Ht(t,{read:this.read.bind(this),write:function(t){e.push(t)},complete:function(){r.emit("complete",Buffer.concat(e))}}),this._filter.start()};u.default.inherits(e,Dt)})),Ft={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5},Vt=d((function(t){var e=[];!function(){for(var t=0;t<256;t++){for(var r=t,n=0;n<8;n++)1&r?r=3988292384^r>>>1:r>>>=1;e[t]=r}}();var r=t.exports=function(){this._crc=-1};r.prototype.write=function(t){for(var r=0;r<t.length;r++)this._crc=e[255&(this._crc^t[r])]^this._crc>>>8;return!0},r.prototype.crc32=function(){return-1^this._crc},r.crc32=function(t){for(var r=-1,n=0;n<t.length;n++)r=e[255&(r^t[n])]^r>>>8;return-1^r}})),zt=d((function(t){var e=t.exports=function(t,e){this._options=t,t.checkCRC=!1!==t.checkCRC,this._hasIHDR=!1,this._hasIEND=!1,this._emittedHeadersFinished=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[Ft.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[Ft.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[Ft.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[Ft.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[Ft.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[Ft.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=e.read,this.error=e.error,this.metadata=e.metadata,this.gamma=e.gamma,this.transColor=e.transColor,this.palette=e.palette,this.parsed=e.parsed,this.inflateData=e.inflateData,this.finished=e.finished,this.simpleTransparency=e.simpleTransparency,this.headersFinished=e.headersFinished||function(){}};e.prototype.start=function(){this.read(Ft.PNG_SIGNATURE.length,this._parseSignature.bind(this))},e.prototype._parseSignature=function(t){for(var e=Ft.PNG_SIGNATURE,r=0;r<e.length;r++)if(t[r]!==e[r])return void this.error(new Error("Invalid file signature"));this.read(8,this._parseChunkBegin.bind(this))},e.prototype._parseChunkBegin=function(t){for(var e=t.readUInt32BE(0),r=t.readUInt32BE(4),n="",o=4;o<8;o++)n+=String.fromCharCode(t[o]);var i=Boolean(32&t[4]);if(this._hasIHDR||r===Ft.TYPE_IHDR){if(this._crc=new Vt,this._crc.write(new Buffer(n)),this._chunks[r])return this._chunks[r](e);i?this.read(e+4,this._skipChunk.bind(this)):this.error(new Error("Unsupported critical chunk type "+n))}else this.error(new Error("Expected IHDR on beggining"))},e.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))},e.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))},e.prototype._parseChunkEnd=function(t){var e=t.readInt32BE(0),r=this._crc.crc32();this._options.checkCRC&&r!==e?this.error(new Error("Crc error - "+e+" - "+r)):this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))},e.prototype._handleIHDR=function(t){this.read(t,this._parseIHDR.bind(this))},e.prototype._parseIHDR=function(t){this._crc.write(t);var e=t.readUInt32BE(0),r=t.readUInt32BE(4),n=t[8],o=t[9],i=t[12];if(8===n||4===n||2===n||1===n||16===n)if(o in Ft.COLORTYPE_TO_BPP_MAP)if(0===t[10])if(0===t[11])if(0===i||1===i){this._colorType=o;var a=Ft.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:e,height:r,depth:n,interlace:Boolean(i),palette:Boolean(o&Ft.COLORTYPE_PALETTE),color:Boolean(o&Ft.COLORTYPE_COLOR),alpha:Boolean(o&Ft.COLORTYPE_ALPHA),bpp:a,colorType:o}),this._handleChunkEnd()}else this.error(new Error("Unsupported interlace method"));else this.error(new Error("Unsupported filter method"));else this.error(new Error("Unsupported compression method"));else this.error(new Error("Unsupported color type"));else this.error(new Error("Unsupported bit depth "+n))},e.prototype._handlePLTE=function(t){this.read(t,this._parsePLTE.bind(this))},e.prototype._parsePLTE=function(t){this._crc.write(t);for(var e=Math.floor(t.length/3),r=0;r<e;r++)this._palette.push([t[3*r],t[3*r+1],t[3*r+2],255]);this.palette(this._palette),this._handleChunkEnd()},e.prototype._handleTRNS=function(t){this.simpleTransparency(),this.read(t,this._parseTRNS.bind(this))},e.prototype._parseTRNS=function(t){if(this._crc.write(t),this._colorType===Ft.COLORTYPE_PALETTE_COLOR){if(0===this._palette.length)return void this.error(new Error("Transparency chunk must be after palette"));if(t.length>this._palette.length)return void this.error(new Error("More transparent colors than palette size"));for(var e=0;e<t.length;e++)this._palette[e][3]=t[e];this.palette(this._palette)}this._colorType===Ft.COLORTYPE_GRAYSCALE&&this.transColor([t.readUInt16BE(0)]),this._colorType===Ft.COLORTYPE_COLOR&&this.transColor([t.readUInt16BE(0),t.readUInt16BE(2),t.readUInt16BE(4)]),this._handleChunkEnd()},e.prototype._handleGAMA=function(t){this.read(t,this._parseGAMA.bind(this))},e.prototype._parseGAMA=function(t){this._crc.write(t),this.gamma(t.readUInt32BE(0)/Ft.GAMMA_DIVISION),this._handleChunkEnd()},e.prototype._handleIDAT=function(t){this._emittedHeadersFinished||(this._emittedHeadersFinished=!0,this.headersFinished()),this.read(-t,this._parseIDAT.bind(this,t))},e.prototype._parseIDAT=function(t,e){if(this._crc.write(e),this._colorType===Ft.COLORTYPE_PALETTE_COLOR&&0===this._palette.length)throw new Error("Expected palette not found");this.inflateData(e);var r=t-e.length;r>0?this._handleIDAT(r):this._handleChunkEnd()},e.prototype._handleIEND=function(t){this.read(t,this._parseIEND.bind(this))},e.prototype._parseIEND=function(t){this._crc.write(t),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}})),Wt=[function(){},function(t,e,r,n){if(n===e.length)throw new Error("Ran out of data");var o=e[n];t[r]=o,t[r+1]=o,t[r+2]=o,t[r+3]=255},function(t,e,r,n){if(n+1>=e.length)throw new Error("Ran out of data");var o=e[n];t[r]=o,t[r+1]=o,t[r+2]=o,t[r+3]=e[n+1]},function(t,e,r,n){if(n+2>=e.length)throw new Error("Ran out of data");t[r]=e[n],t[r+1]=e[n+1],t[r+2]=e[n+2],t[r+3]=255},function(t,e,r,n){if(n+3>=e.length)throw new Error("Ran out of data");t[r]=e[n],t[r+1]=e[n+1],t[r+2]=e[n+2],t[r+3]=e[n+3]}],Gt=[function(){},function(t,e,r,n){var o=e[0];t[r]=o,t[r+1]=o,t[r+2]=o,t[r+3]=n},function(t,e,r){var n=e[0];t[r]=n,t[r+1]=n,t[r+2]=n,t[r+3]=e[1]},function(t,e,r,n){t[r]=e[0],t[r+1]=e[1],t[r+2]=e[2],t[r+3]=n},function(t,e,r){t[r]=e[0],t[r+1]=e[1],t[r+2]=e[2],t[r+3]=e[3]}];function Jt(t,e,r,n,o,i){for(var a=t.width,s=t.height,c=t.index,u=0;u<s;u++)for(var f=0;f<a;f++){var l=r(f,u,c);Wt[n](e,o,l,i),i+=n}return i}function Kt(t,e,r,n,o,i){for(var a=t.width,s=t.height,c=t.index,u=0;u<s;u++){for(var f=0;f<a;f++){var l=o.get(n),p=r(f,u,c);Gt[n](e,l,p,i)}o.resetAfterLine()}}var $t=function(t,e){var r,n=e.width,o=e.height,i=e.depth,a=e.bpp,s=e.interlace;if(8!==i)var c=function(t,e){var r=[],n=0;function o(){if(n===t.length)throw new Error("Ran out of data");var o,i=t[n];switch(n++,e){default:throw new Error("unrecognised depth");case 16:o=t[n],n++,r.push((i<<8)+o);break;case 4:r.push(i>>4,o=15&i);break;case 2:r.push(i>>6&3,o=i>>4&3,i>>2&3,3&i);break;case 1:r.push(i>>7&1,o=i>>6&1,i>>5&1,i>>4&1,i>>3&1,i>>2&1,i>>1&1,1&i)}}return{get:function(t){for(;r.length<t;)o();var e=r.slice(0,t);return r=r.slice(t),e},resetAfterLine:function(){r.length=0},end:function(){if(n!==t.length)throw new Error("extra data found")}}}(t,i);r=i<=8?new Buffer(n*o*4):new Uint16Array(n*o*4);var u,f,l=Math.pow(2,i)-1,p=0;if(s)u=jt(n,o),f=Ut(n,o);else{var h=0;f=function(){var t=h;return h+=4,t},u=[{width:n,height:o}]}for(var d=0;d<u.length;d++)8===i?p=Jt(u[d],r,f,a,t,p):Kt(u[d],r,f,a,c,l);if(8===i){if(p!==t.length)throw new Error("extra data found")}else c.end();return r};var Qt=function(t,e){var r=e.depth,n=e.width,o=e.height,i=e.transColor,a=t;return 3===e.colorType?function(t,e,r,n,o){for(var i=0,a=0;a<n;a++)for(var s=0;s<r;s++){var c=o[t[i]];if(!c)throw new Error("index "+t[i]+" not in palette");for(var u=0;u<4;u++)e[i+u]=c[u];i+=4}}(t,a,n,o,e.palette):(i&&function(t,e,r,n,o){for(var i=0,a=0;a<n;a++)for(var s=0;s<r;s++){var c=!1;if(1===o.length?o[0]===t[i]&&(c=!0):o[0]===t[i]&&o[1]===t[i+1]&&o[2]===t[i+2]&&(c=!0),c)for(var u=0;u<4;u++)e[i+u]=0;i+=4}}(t,a,n,o,i),8!==r&&(16===r&&(a=new Buffer(n*o*4)),function(t,e,r,n,o){for(var i=Math.pow(2,o)-1,a=0,s=0;s<n;s++)for(var c=0;c<r;c++){for(var u=0;u<4;u++)e[a+u]=Math.floor(255*t[a+u]/i+.5);a+=4}}(t,a,n,o,r))),a},Zt=d((function(t){var e=t.exports=function(t){Dt.call(this),this._parser=new zt(t,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this),simpleTransparency:this._simpleTransparency.bind(this),headersFinished:this._headersFinished.bind(this)}),this._options=t,this.writable=!0,this._parser.start()};u.default.inherits(e,Dt),e.prototype._handleError=function(t){this.emit("error",t),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",(function(){}))),this.errord=!0},e.prototype._inflateData=function(t){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=l.default.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{var e=(1+(this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3))*this._bitmapInfo.height,r=Math.max(e,l.default.Z_MIN_CHUNK);this._inflate=l.default.createInflate({chunkSize:r});var n=e,o=this.emit.bind(this,"error");this._inflate.on("error",(function(t){n&&o(t)})),this._filter.on("complete",this._complete.bind(this));var i=this._filter.write.bind(this._filter);this._inflate.on("data",(function(t){n&&(t.length>n&&(t=t.slice(0,n)),n-=t.length,i(t))})),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write(t)},e.prototype._handleMetaData=function(t){this._metaData=t,this._bitmapInfo=Object.create(t),this._filter=new Yt(this._bitmapInfo)},e.prototype._handleTransColor=function(t){this._bitmapInfo.transColor=t},e.prototype._handlePalette=function(t){this._bitmapInfo.palette=t},e.prototype._simpleTransparency=function(){this._metaData.alpha=!0},e.prototype._headersFinished=function(){this.emit("metadata",this._metaData)},e.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"),this.destroySoon())},e.prototype._complete=function(t){if(!this.errord){try{var e=$t(t,this._bitmapInfo),r=Qt(e,this._bitmapInfo);e=null}catch(t){return void this._handleError(t)}this.emit("parsed",r)}}}));var Xt={0:function(t,e,r,n,o){for(var i=0;i<r;i++)n[o+i]=t[e+i]},1:function(t,e,r,n,o,i){for(var a=0;a<r;a++){n[o+a]=t[e+a]-(a>=i?t[e+a-i]:0)}},2:function(t,e,r,n,o){for(var i=0;i<r;i++){n[o+i]=t[e+i]-(e>0?t[e+i-r]:0)}},3:function(t,e,r,n,o,i){for(var a=0;a<r;a++){n[o+a]=t[e+a]-((a>=i?t[e+a-i]:0)+(e>0?t[e+a-r]:0)>>1)}},4:function(t,e,r,n,o,i){for(var a=0;a<r;a++){var s=t[e+a]-qt(a>=i?t[e+a-i]:0,e>0?t[e+a-r]:0,e>0&&a>=i?t[e+a-(r+i)]:0);n[o+a]=s}}},te={0:function(t,e,r){for(var n=0,o=e+r,i=e;i<o;i++)n+=Math.abs(t[i]);return n},1:function(t,e,r,n){for(var o=0,i=0;i<r;i++){o+=Math.abs(t[e+i]-(i>=n?t[e+i-n]:0))}return o},2:function(t,e,r){for(var n=0,o=e+r,i=e;i<o;i++){n+=Math.abs(t[i]-(e>0?t[i-r]:0))}return n},3:function(t,e,r,n){for(var o=0,i=0;i<r;i++){o+=Math.abs(t[e+i]-((i>=n?t[e+i-n]:0)+(e>0?t[e+i-r]:0)>>1))}return o},4:function(t,e,r,n){for(var o=0,i=0;i<r;i++){var a=t[e+i]-qt(i>=n?t[e+i-n]:0,e>0?t[e+i-r]:0,e>0&&i>=n?t[e+i-(r+n)]:0);o+=Math.abs(a)}return o}},ee=d((function(t){var e=t.exports=function(t){if(this._options=t,t.deflateChunkSize=t.deflateChunkSize||32768,t.deflateLevel=null!=t.deflateLevel?t.deflateLevel:9,t.deflateStrategy=null!=t.deflateStrategy?t.deflateStrategy:3,t.inputHasAlpha=null==t.inputHasAlpha||t.inputHasAlpha,t.deflateFactory=t.deflateFactory||l.default.createDeflate,t.bitDepth=t.bitDepth||8,t.colorType="number"==typeof t.colorType?t.colorType:Ft.COLORTYPE_COLOR_ALPHA,t.inputColorType="number"==typeof t.inputColorType?t.inputColorType:Ft.COLORTYPE_COLOR_ALPHA,-1===[Ft.COLORTYPE_GRAYSCALE,Ft.COLORTYPE_COLOR,Ft.COLORTYPE_COLOR_ALPHA,Ft.COLORTYPE_ALPHA].indexOf(t.colorType))throw new Error("option color type:"+t.colorType+" is not supported at present");if(-1===[Ft.COLORTYPE_GRAYSCALE,Ft.COLORTYPE_COLOR,Ft.COLORTYPE_COLOR_ALPHA,Ft.COLORTYPE_ALPHA].indexOf(t.inputColorType))throw new Error("option input color type:"+t.inputColorType+" is not supported at present");if(8!==t.bitDepth&&16!==t.bitDepth)throw new Error("option bit depth:"+t.bitDepth+" is not supported at present")};e.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}},e.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())},e.prototype.filterData=function(t,e,r){return function(t,e,r,n,o){var i;if("filterType"in n&&-1!==n.filterType){if("number"!=typeof n.filterType)throw new Error("unrecognised filter types");i=[n.filterType]}else i=[0,1,2,3,4];16===n.bitDepth&&(o*=2);for(var a=e*o,s=0,c=0,u=new Buffer((a+1)*r),f=i[0],l=0;l<r;l++){if(i.length>1)for(var p=1/0,h=0;h<i.length;h++){var d=te[i[h]](t,c,a,o);d<p&&(f=i[h],p=d)}u[s]=f,s++,Xt[f](t,c,a,u,s,o),s+=a,c+=a}return u}(function(t,e,r,n){var o=-1!==[Ft.COLORTYPE_COLOR_ALPHA,Ft.COLORTYPE_ALPHA].indexOf(n.colorType);if(n.colorType===n.inputColorType){var i=function(){var t=new ArrayBuffer(2);return new DataView(t).setInt16(0,256,!0),256!==new Int16Array(t)[0]}();if(8===n.bitDepth||16===n.bitDepth&&i)return t}var a=16!==n.bitDepth?t:new Uint16Array(t.buffer),s=255,c=Ft.COLORTYPE_TO_BPP_MAP[n.inputColorType];4!==c||n.inputHasAlpha||(c=3);var u=Ft.COLORTYPE_TO_BPP_MAP[n.colorType];16===n.bitDepth&&(s=65535,u*=2);var f=new Buffer(e*r*u),l=0,p=0,h=n.bgColor||{};function d(){var t,e,r,i=s;switch(n.inputColorType){case Ft.COLORTYPE_COLOR_ALPHA:i=a[l+3],t=a[l],e=a[l+1],r=a[l+2];break;case Ft.COLORTYPE_COLOR:t=a[l],e=a[l+1],r=a[l+2];break;case Ft.COLORTYPE_ALPHA:i=a[l+1],e=t=a[l],r=t;break;case Ft.COLORTYPE_GRAYSCALE:e=t=a[l],r=t;break;default:throw new Error("input color type:"+n.inputColorType+" is not supported at present")}return n.inputHasAlpha&&(o||(i/=s,t=Math.min(Math.max(Math.round((1-i)*h.red+i*t),0),s),e=Math.min(Math.max(Math.round((1-i)*h.green+i*e),0),s),r=Math.min(Math.max(Math.round((1-i)*h.blue+i*r),0),s))),{red:t,green:e,blue:r,alpha:i}}void 0===h.red&&(h.red=s),void 0===h.green&&(h.green=s),void 0===h.blue&&(h.blue=s);for(var g=0;g<r;g++)for(var m=0;m<e;m++){var v=d();switch(n.colorType){case Ft.COLORTYPE_COLOR_ALPHA:case Ft.COLORTYPE_COLOR:8===n.bitDepth?(f[p]=v.red,f[p+1]=v.green,f[p+2]=v.blue,o&&(f[p+3]=v.alpha)):(f.writeUInt16BE(v.red,p),f.writeUInt16BE(v.green,p+2),f.writeUInt16BE(v.blue,p+4),o&&f.writeUInt16BE(v.alpha,p+6));break;case Ft.COLORTYPE_ALPHA:case Ft.COLORTYPE_GRAYSCALE:var y=(v.red+v.green+v.blue)/3;8===n.bitDepth?(f[p]=y,o&&(f[p+1]=v.alpha)):(f.writeUInt16BE(y,p),o&&f.writeUInt16BE(v.alpha,p+2));break;default:throw new Error("unrecognised color Type "+n.colorType)}l+=c,p+=u}return f}(t,e,r,this._options),e,r,this._options,Ft.COLORTYPE_TO_BPP_MAP[this._options.colorType])},e.prototype._packChunk=function(t,e){var r=e?e.length:0,n=new Buffer(r+12);return n.writeUInt32BE(r,0),n.writeUInt32BE(t,4),e&&e.copy(n,8),n.writeInt32BE(Vt.crc32(n.slice(4,n.length-4)),n.length-4),n},e.prototype.packGAMA=function(t){var e=new Buffer(4);return e.writeUInt32BE(Math.floor(t*Ft.GAMMA_DIVISION),0),this._packChunk(Ft.TYPE_gAMA,e)},e.prototype.packIHDR=function(t,e){var r=new Buffer(13);return r.writeUInt32BE(t,0),r.writeUInt32BE(e,4),r[8]=this._options.bitDepth,r[9]=this._options.colorType,r[10]=0,r[11]=0,r[12]=0,this._packChunk(Ft.TYPE_IHDR,r)},e.prototype.packIDAT=function(t){return this._packChunk(Ft.TYPE_IDAT,t)},e.prototype.packIEND=function(){return this._packChunk(Ft.TYPE_IEND,null)}})),re=d((function(t){var e=t.exports=function(t){f.default.call(this),this._packer=new ee(t||{}),this._deflate=this._packer.createDeflate(),this.readable=!0};u.default.inherits(e,f.default),e.prototype.pack=function(t,e,r,n){this.emit("data",new Buffer(Ft.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(e,r)),n&&this.emit("data",this._packer.packGAMA(n));var o=this._packer.filterData(t,e,r);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",function(t){this.emit("data",this._packer.packIDAT(t))}.bind(this)),this._deflate.on("end",function(){this.emit("data",this._packer.packIEND()),this.emit("end")}.bind(this)),this._deflate.end(o)}})),ne=d((function(t,e){var r=p.default.ok,n=s.default.kMaxLength;function o(t){if(!(this instanceof o))return new o(t);t&&t.chunkSize<l.default.Z_MIN_CHUNK&&(t.chunkSize=l.default.Z_MIN_CHUNK),l.default.Inflate.call(this,t),this._offset=void 0===this._offset?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,t&&null!=t.maxLength&&(this._maxLength=t.maxLength)}function i(t,e){e&&process.nextTick(e),t._handle&&(t._handle.close(),t._handle=null)}function a(t,e){return function(t,e){if("string"==typeof e&&(e=Buffer.from(e)),!(e instanceof Buffer))throw new TypeError("Not a string or buffer");var r=t._finishFlushFlag;return null==r&&(r=l.default.Z_FINISH),t._processChunk(e,r)}(new o(e),t)}o.prototype._processChunk=function(t,e,o){if("function"==typeof o)return l.default.Inflate._processChunk.call(this,t,e,o);var a,s=this,c=t&&t.length,u=this._chunkSize-this._offset,f=this._maxLength,p=0,h=[],d=0;function g(t,e){if(!s._hadError){var n=u-e;if(r(n>=0,"have should not go down"),n>0){var o=s._buffer.slice(s._offset,s._offset+n);if(s._offset+=n,o.length>f&&(o=o.slice(0,f)),h.push(o),d+=o.length,0===(f-=o.length))return!1}return(0===e||s._offset>=s._chunkSize)&&(u=s._chunkSize,s._offset=0,s._buffer=Buffer.allocUnsafe(s._chunkSize)),0===e&&(p+=c-t,c=t,!0)}}this.on("error",(function(t){a=t})),r(this._handle,"zlib binding closed");do{var m=this._handle.writeSync(e,t,p,c,this._buffer,this._offset,u);m=m||this._writeState}while(!this._hadError&&g(m[0],m[1]));if(this._hadError)throw a;if(d>=n)throw i(this),new RangeError("Cannot create final Buffer. It would be larger than 0x"+n.toString(16)+" bytes");var v=Buffer.concat(h,d);return i(this),v},u.default.inherits(o,l.default.Inflate),t.exports=e=a,e.Inflate=o,e.createInflate=function(t){return new o(t)},e.inflateSync=a})),oe=d((function(t){var e=t.exports=function(t){this._buffer=t,this._reads=[]};e.prototype.read=function(t,e){this._reads.push({length:Math.abs(t),allowLess:t<0,func:e})},e.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){var t=this._reads[0];if(!this._buffer.length||!(this._buffer.length>=t.length||t.allowLess))break;this._reads.shift();var e=this._buffer;this._buffer=e.slice(t.length),t.func.call(this,e.slice(0,t.length))}return this._reads.length>0?new Error("There are some read requests waitng on finished stream"):this._buffer.length>0?new Error("unrecognised content at end of stream"):void 0}})),ie=function(t,e){var r=[],n=new oe(t);return new Ht(e,{read:n.read.bind(n),write:function(t){r.push(t)},complete:function(){}}).start(),n.process(),Buffer.concat(r)},ae=!0;l.default.deflateSync||(ae=!1);var se=!0;l.default.deflateSync||(se=!1);var ce={read:function(t,e){return function(t,e){if(!ae)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");var r,n,o,i=[],a=new oe(t);if(new zt(e,{read:a.read.bind(a),error:function(t){r=t},metadata:function(t){n=t},gamma:function(t){o=t},palette:function(t){n.palette=t},transColor:function(t){n.transColor=t},inflateData:function(t){i.push(t)},simpleTransparency:function(){n.alpha=!0}}).start(),a.process(),r)throw r;var s,c=Buffer.concat(i);if(i.length=0,n.interlace)s=l.default.inflateSync(c);else{var u=(1+(n.width*n.bpp*n.depth+7>>3))*n.height;s=ne(c,{chunkSize:u,maxLength:u})}if(c=null,!s||!s.length)throw new Error("bad png - invalid inflate data response");var f=ie(s,n);c=null;var p=$t(f,n);f=null;var h=Qt(p,n);return n.data=h,n.gamma=o||0,n}(t,e||{})},write:function(t,e){return function(t,e){if(!se)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");var r=new ee(e||{}),n=[];n.push(new Buffer(Ft.PNG_SIGNATURE)),n.push(r.packIHDR(t.width,t.height)),t.gamma&&n.push(r.packGAMA(t.gamma));var o=r.filterData(t.data,t.width,t.height),i=l.default.deflateSync(o,r.getDeflateOptions());if(o=null,!i||!i.length)throw new Error("bad png - invalid compressed data response");return n.push(r.packIDAT(i)),n.push(r.packIEND()),Buffer.concat(n)}(t,e)}},ue=d((function(t,e){var r=e.PNG=function(t){f.default.call(this),this.width=0|(t=t||{}).width,this.height=0|t.height,this.data=this.width>0&&this.height>0?new Buffer(4*this.width*this.height):null,t.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new Zt(t),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",function(t){this.data=t,this.emit("parsed",t)}.bind(this)),this._packer=new re(t),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};u.default.inherits(r,f.default),r.sync=ce,r.prototype.pack=function(){return this.data&&this.data.length?(process.nextTick(function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}.bind(this)),this):(this.emit("error","No data provided"),this)},r.prototype.parse=function(t,e){var r,n;e&&(r=function(t){this.removeListener("error",n),this.data=t,e(null,this)}.bind(this),n=function(t){this.removeListener("parsed",r),e(t,null)}.bind(this),this.once("parsed",r),this.once("error",n));return this.end(t),this},r.prototype.write=function(t){return this._parser.write(t),!0},r.prototype.end=function(t){this._parser.end(t)},r.prototype._metadata=function(t){this.width=t.width,this.height=t.height,this.emit("metadata",t)},r.prototype._gamma=function(t){this.gamma=t},r.prototype._handleClose=function(){this._parser.writable||this._packer.readable||this.emit("close")},r.bitblt=function(t,e,r,n,o,i,a,s){if(n|=0,o|=0,i|=0,a|=0,s|=0,(r|=0)>t.width||n>t.height||r+o>t.width||n+i>t.height)throw new Error("bitblt reading outside image");if(a>e.width||s>e.height||a+o>e.width||s+i>e.height)throw new Error("bitblt writing outside image");for(var c=0;c<i;c++)t.data.copy(e.data,(s+c)*e.width+a<<2,(n+c)*t.width+r<<2,(n+c)*t.width+r+o<<2)},r.prototype.bitblt=function(t,e,n,o,i,a,s){return r.bitblt(this,t,e,n,o,i,a,s),this},r.adjustGamma=function(t){if(t.gamma){for(var e=0;e<t.height;e++)for(var r=0;r<t.width;r++)for(var n=t.width*e+r<<2,o=0;o<3;o++){var i=t.data[n+o]/255;i=Math.pow(i,1/2.2/t.gamma),t.data[n+o]=Math.round(255*i)}t.gamma=0}},r.prototype.adjustGamma=function(){r.adjustGamma(this)}})),fe=d((function(t,e){function r(t){if("number"==typeof t&&(t=t.toString()),"string"!=typeof t)throw new Error("Color should be defined as hex string");var e=t.slice().replace("#","").split("");if(e.length<3||5===e.length||e.length>8)throw new Error("Invalid hex color: "+t);3!==e.length&&4!==e.length||(e=Array.prototype.concat.apply([],e.map((function(t){return[t,t]})))),6===e.length&&e.push("F","F");var r=parseInt(e.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:255&r,hex:"#"+e.slice(0,6).join("")}}e.getOptions=function(t){t||(t={}),t.color||(t.color={});var e=t.width&&t.width>=21?t.width:void 0;return{width:e,scale:e?4:t.scale||4,margin:null==t.margin||t.margin<0?4:t.margin,color:{dark:r(t.color.dark||"#000000ff"),light:r(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},e.getScale=function(t,e){return e.width&&e.width>=t+2*e.margin?e.width/(t+2*e.margin):e.scale},e.getImageWidth=function(t,r){var n=e.getScale(t,r);return Math.floor((t+2*r.margin)*n)},e.qrToImageData=function(t,r,n){for(var o=r.modules.size,i=r.modules.data,a=e.getScale(o,n),s=Math.floor((o+2*n.margin)*a),c=n.margin*a,u=[n.color.light,n.color.dark],f=0;f<s;f++)for(var l=0;l<s;l++){var p=4*(f*s+l),h=n.color.light;if(f>=c&&l>=c&&f<s-c&&l<s-c)h=u[i[Math.floor((f-c)/a)*o+Math.floor((l-c)/a)]?1:0];t[p++]=h.r,t[p++]=h.g,t[p++]=h.b,t[p]=h.a}}})),le=d((function(t,e){var r=ue.PNG;e.render=function(t,e){var n=fe.getOptions(e),o=n.rendererOpts,i=fe.getImageWidth(t.modules.size,n);o.width=i,o.height=i;var a=new r(o);return fe.qrToImageData(a.data,t,n),a},e.renderToDataURL=function(t,r,n){void 0===n&&(n=r,r=void 0),e.renderToBuffer(t,r,(function(t,e){t&&n(t);var r="data:image/png;base64,";r+=e.toString("base64"),n(null,r)}))},e.renderToBuffer=function(t,r,n){void 0===n&&(n=r,r=void 0);var o=e.render(t,r),i=[];o.on("error",n),o.on("data",(function(t){i.push(t)})),o.on("end",(function(){n(null,Buffer.concat(i))})),o.pack()},e.renderToFile=function(t,r,n,o){void 0===o&&(o=n,n=void 0);var i=c.default.createWriteStream(t);i.on("error",o),i.on("close",o),e.renderToFileStream(i,r,n)},e.renderToFileStream=function(t,r,n){e.render(r,n).pack().pipe(t)}})),pe=d((function(t,e){var r={WW:" ",WB:"",BB:"",BW:""},n={BB:" ",BW:"",WW:"",WB:""};function o(t,e,r){return t&&e?r.BB:t&&!e?r.BW:!t&&e?r.WB:r.WW}e.render=function(t,e,i){var a=fe.getOptions(e),s=r;"#ffffff"!==a.color.dark.hex&&"#000000"!==a.color.light.hex||(s=n);var c=t.modules.size,u=t.modules.data,f="",l=Array(c+2*a.margin+1).join(s.WW);l=Array(a.margin/2+1).join(l+"\n");var p=Array(a.margin+1).join(s.WW);f+=l;for(var h=0;h<c;h+=2){f+=p;for(var d=0;d<c;d++){f+=o(u[h*c+d],u[(h+1)*c+d],s)}f+=p+"\n"}return f+=l.slice(0,-1),"function"==typeof i&&i(null,f),f},e.renderToFile=function(t,r,n,o){void 0===o&&(o=n,n=void 0);var i=c.default,a=e.render(r,n);i.writeFile(t,a,o)}})),he={render:function(t,e,r){var n=t.modules.size,o=t.modules.data,i="[47m  [0m",a="",s=Array(n+3).join(i),c=Array(2).join(i);a+=s+"\n";for(var u=0;u<n;++u){a+=i;for(var f=0;f<n;f++)a+=o[u*n+f]?"[40m  [0m":i;a+=c+"\n"}return a+=s+"\n","function"==typeof r&&r(null,a),a}};function de(t,e){var r=t.a/255,n=e+'="'+t.hex+'"';return r<1?n+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function ge(t,e,r){var n=t+e;return void 0!==r&&(n+=" "+r),n}var me=function(t,e,r){var n=fe.getOptions(e),o=t.modules.size,i=t.modules.data,a=o+2*n.margin,s=n.color.light.a?"<path "+de(n.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+de(n.color.dark,"stroke")+' d="'+function(t,e,r){for(var n="",o=0,i=!1,a=0,s=0;s<t.length;s++){var c=Math.floor(s%e),u=Math.floor(s/e);c||i||(i=!0),t[s]?(a++,s>0&&c>0&&t[s-1]||(n+=i?ge("M",c+r,.5+u+r):ge("m",o,0),o=0,i=!1),c+1<e&&t[s+1]||(n+=ge("h",a),a=0)):o++}return n}(i,o,n.margin)+'"/>',u='<svg xmlns="http://www.w3.org/2000/svg" '+(n.width?'width="'+n.width+'" height="'+n.width+'" ':"")+('viewBox="0 0 '+a+" "+a+'"')+' shape-rendering="crispEdges">'+s+c+"</svg>\n";return"function"==typeof r&&r(null,u),u},ve=d((function(t,e){e.render=me,e.renderToFile=function(t,r,n,o){void 0===o&&(o=n,n=void 0);var i=c.default,a=e.render(r,n);i.writeFile(t,'<?xml version="1.0" encoding="utf-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">'+a,o)}})),ye=d((function(t,e){e.render=function(t,e,r){var n=r,o=e;void 0!==n||e&&e.getContext||(n=e,e=void 0),e||(o=function(){try{return document.createElement("canvas")}catch(t){throw new Error("You need to specify a canvas element")}}()),n=fe.getOptions(n);var i=fe.getImageWidth(t.modules.size,n),a=o.getContext("2d"),s=a.createImageData(i,i);return fe.qrToImageData(s.data,t,n),function(t,e,r){t.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=r,e.width=r,e.style.height=r+"px",e.style.width=r+"px"}(a,o,i),a.putImageData(s,0,0),o},e.renderToDataURL=function(t,r,n){var o=n;return void 0!==o||r&&r.getContext||(o=r,r=void 0),o||(o={}),e.render(t,r,o).toDataURL(o.type||"image/png",(o.rendererOpts||{}).quality)}}));function be(t,e,r,n,o){var i=[].slice.call(arguments,1),a=i.length,s="function"==typeof i[a-1];if(!s&&!b())throw new Error("Callback required as last argument");if(!s){if(a<1)throw new Error("Too few arguments provided");return 1===a?(r=e,e=n=void 0):2!==a||e.getContext||(n=r,r=e,e=void 0),new Promise((function(o,i){try{var a=Nt(r,n);o(t(a,e,n))}catch(t){i(t)}}))}if(a<2)throw new Error("Too few arguments provided");2===a?(o=r,r=e,e=n=void 0):3===a&&(e.getContext&&void 0===o?(o=n,n=void 0):(o=n,n=r,r=e,e=void 0));try{var c=Nt(r,n);o(null,t(c,e,n))}catch(t){o(t)}}var we=Nt,Ee=be.bind(null,ye.render),_e=be.bind(null,ye.renderToDataURL),xe=be.bind(null,(function(t,e,r){return me(t,r)}));function Te(t,e,r){if(void 0===t)throw new Error("String required as first argument");if(void 0===r&&(r=e,e={}),"function"!=typeof r){if(!b())throw new Error("Callback required as last argument");e=r||{},r=null}return{opts:e,cb:r}}function Oe(t){return t.slice(2+(t.lastIndexOf(".")-1>>>0)).toLowerCase()}function Ae(t){switch(t){case"svg":return ve;case"txt":case"utf8":return pe;case"png":case"image/png":default:return le}}function ke(t,e,r){if(!r.cb)return new Promise((function(n,o){try{var i=Nt(e,r.opts);return t(i,r.opts,(function(t,e){return t?o(t):n(e)}))}catch(t){o(t)}}));try{var n=Nt(e,r.opts);return t(n,r.opts,r.cb)}catch(t){r.cb(t)}}var Le={create:Nt,toCanvas:{create:we,toCanvas:Ee,toDataURL:_e,toString:xe}.toCanvas,toString:function(t,e,r){var n=Te(t,e,r);return ke(function(t){switch(t){case"svg":return ve;case"terminal":return he;case"utf8":default:return pe}}(n.opts.type).render,t,n)},toDataURL:function(t,e,r){var n=Te(t,e,r);return ke(Ae(n.opts.type).renderToDataURL,t,n)},toBuffer:function(t,e,r){var n=Te(t,e,r);return ke(Ae(n.opts.type).renderToBuffer,t,n)},toFile:function(t,e,r,n){if("string"!=typeof t||"string"!=typeof e&&"object"!=typeof e)throw new Error("Invalid argument");if(arguments.length<3&&!b())throw new Error("Too few arguments provided");var o=Te(e,r,n),i=o.opts.type||Oe(t),a=Ae(i),s=a.renderToFile.bind(null,t);return ke(s,e,o)},toFileStream:function(t,e,r){if(arguments.length<2)throw new Error("Too few arguments provided");var n=Te(e,r,t.emit.bind(t,"error")),o=Ae("png"),i=o.renderToFileStream.bind(null,t);ke(i,e,n)}},Ce="top",Pe="bottom",Ie="right",Re="left",Be="auto",Se=[Ce,Pe,Ie,Re],Ne="start",De="end",Me="viewport",je="popper",Ue=Se.reduce((function(t,e){return t.concat([e+"-"+Ne,e+"-"+De])}),[]),qe=[].concat(Se,[Be]).reduce((function(t,e){return t.concat([e,e+"-"+Ne,e+"-"+De])}),[]),He=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Ye(t){return t?(t.nodeName||"").toLowerCase():null}function Fe(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Ve(t){return t instanceof Fe(t).Element||t instanceof Element}function ze(t){return t instanceof Fe(t).HTMLElement||t instanceof HTMLElement}function We(t){return"undefined"!=typeof ShadowRoot&&(t instanceof Fe(t).ShadowRoot||t instanceof ShadowRoot)}var Ge={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var r=e.styles[t]||{},n=e.attributes[t]||{},o=e.elements[t];ze(o)&&Ye(o)&&(Object.assign(o.style,r),Object.keys(n).forEach((function(t){var e=n[t];!1===e?o.removeAttribute(t):o.setAttribute(t,!0===e?"":e)})))}))},effect:function(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach((function(t){var n=e.elements[t],o=e.attributes[t]||{},i=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:r[t]).reduce((function(t,e){return t[e]="",t}),{});ze(n)&&Ye(n)&&(Object.assign(n.style,i),Object.keys(o).forEach((function(t){n.removeAttribute(t)})))}))}},requires:["computeStyles"]};function Je(t){return t.split("-")[0]}function Ke(t){var e=t.getBoundingClientRect();return{width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left,x:e.left,y:e.top}}function $e(t){var e=Ke(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function Qe(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&We(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Ze(t){return Fe(t).getComputedStyle(t)}function Xe(t){return["table","td","th"].indexOf(Ye(t))>=0}function tr(t){return((Ve(t)?t.ownerDocument:t.document)||window.document).documentElement}function er(t){return"html"===Ye(t)?t:t.assignedSlot||t.parentNode||(We(t)?t.host:null)||tr(t)}function rr(t){return ze(t)&&"fixed"!==Ze(t).position?t.offsetParent:null}function nr(t){for(var e=Fe(t),r=rr(t);r&&Xe(r)&&"static"===Ze(r).position;)r=rr(r);return r&&("html"===Ye(r)||"body"===Ye(r)&&"static"===Ze(r).position)?e:r||function(t){for(var e=-1!==navigator.userAgent.toLowerCase().indexOf("firefox"),r=er(t);ze(r)&&["html","body"].indexOf(Ye(r))<0;){var n=Ze(r);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||e&&"filter"===n.willChange||e&&n.filter&&"none"!==n.filter)return r;r=r.parentNode}return null}(t)||e}function or(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}var ir=Math.max,ar=Math.min,sr=Math.round;function cr(t,e,r){return ir(t,ar(e,r))}function ur(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function fr(t,e){return e.reduce((function(e,r){return e[r]=t,e}),{})}var lr={top:"auto",right:"auto",bottom:"auto",left:"auto"};function pr(t){var e,r=t.popper,n=t.popperRect,o=t.placement,i=t.offsets,a=t.position,s=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,f=!0===u?function(t){var e=t.y,r=window.devicePixelRatio||1;return{x:sr(sr(t.x*r)/r)||0,y:sr(sr(e*r)/r)||0}}(i):"function"==typeof u?u(i):i,l=f.x,p=void 0===l?0:l,h=f.y,d=void 0===h?0:h,g=i.hasOwnProperty("x"),m=i.hasOwnProperty("y"),v=Re,y=Ce,b=window;if(c){var w=nr(r),E="clientHeight",_="clientWidth";w===Fe(r)&&"static"!==Ze(w=tr(r)).position&&(E="scrollHeight",_="scrollWidth"),w=w,o===Ce&&(y=Pe,d-=w[E]-n.height,d*=s?1:-1),o===Re&&(v=Ie,p-=w[_]-n.width,p*=s?1:-1)}var x,T=Object.assign({position:a},c&&lr);return Object.assign({},T,s?((x={})[y]=m?"0":"",x[v]=g?"0":"",x.transform=(b.devicePixelRatio||1)<2?"translate("+p+"px, "+d+"px)":"translate3d("+p+"px, "+d+"px, 0)",x):((e={})[y]=m?d+"px":"",e[v]=g?p+"px":"",e.transform="",e))}var hr={passive:!0};var dr={left:"right",right:"left",bottom:"top",top:"bottom"};function gr(t){return t.replace(/left|right|bottom|top/g,(function(t){return dr[t]}))}var mr={start:"end",end:"start"};function vr(t){return t.replace(/start|end/g,(function(t){return mr[t]}))}function yr(t){var e=Fe(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function br(t){return Ke(tr(t)).left+yr(t).scrollLeft}function wr(t){var e=Ze(t);return/auto|scroll|overlay|hidden/.test(e.overflow+e.overflowY+e.overflowX)}function Er(t){return["html","body","#document"].indexOf(Ye(t))>=0?t.ownerDocument.body:ze(t)&&wr(t)?t:Er(er(t))}function _r(t,e){var r;void 0===e&&(e=[]);var n=Er(t),o=n===(null==(r=t.ownerDocument)?void 0:r.body),i=Fe(n),a=o?[i].concat(i.visualViewport||[],wr(n)?n:[]):n,s=e.concat(a);return o?s:s.concat(_r(er(a)))}function xr(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Tr(t,e){return e===Me?xr(function(t){var e=Fe(t),r=tr(t),n=e.visualViewport,o=r.clientWidth,i=r.clientHeight,a=0,s=0;return n&&(o=n.width,i=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=n.offsetLeft,s=n.offsetTop)),{width:o,height:i,x:a+br(t),y:s}}(t)):ze(e)?function(t){var e=Ke(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}(e):xr(function(t){var e,r=tr(t),n=yr(t),o=null==(e=t.ownerDocument)?void 0:e.body,i=ir(r.scrollWidth,r.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=ir(r.scrollHeight,r.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),s=-n.scrollLeft+br(t),c=-n.scrollTop;return"rtl"===Ze(o||r).direction&&(s+=ir(r.clientWidth,o?o.clientWidth:0)-i),{width:i,height:a,x:s,y:c}}(tr(t)))}function Or(t,e,r){var n="clippingParents"===e?function(t){var e=_r(er(t)),r=["absolute","fixed"].indexOf(Ze(t).position)>=0&&ze(t)?nr(t):t;return Ve(r)?e.filter((function(t){return Ve(t)&&Qe(t,r)&&"body"!==Ye(t)})):[]}(t):[].concat(e),o=[].concat(n,[r]),i=o.reduce((function(e,r){var n=Tr(t,r);return e.top=ir(n.top,e.top),e.right=ar(n.right,e.right),e.bottom=ar(n.bottom,e.bottom),e.left=ir(n.left,e.left),e}),Tr(t,o[0]));return i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}function Ar(t){return t.split("-")[1]}function kr(t){var e,r=t.reference,n=t.element,o=t.placement,i=o?Je(o):null,a=o?Ar(o):null,s=r.x+r.width/2-n.width/2,c=r.y+r.height/2-n.height/2;switch(i){case Ce:e={x:s,y:r.y-n.height};break;case Pe:e={x:s,y:r.y+r.height};break;case Ie:e={x:r.x+r.width,y:c};break;case Re:e={x:r.x-n.width,y:c};break;default:e={x:r.x,y:r.y}}var u=i?or(i):null;if(null!=u){var f="y"===u?"height":"width";switch(a){case Ne:e[u]=e[u]-(r[f]/2-n[f]/2);break;case De:e[u]=e[u]+(r[f]/2-n[f]/2)}}return e}function Lr(t,e){void 0===e&&(e={});var r=e.placement,n=void 0===r?t.placement:r,o=e.boundary,i=void 0===o?"clippingParents":o,a=e.rootBoundary,s=void 0===a?Me:a,c=e.elementContext,u=void 0===c?je:c,f=e.altBoundary,l=void 0!==f&&f,p=e.padding,h=void 0===p?0:p,d=ur("number"!=typeof h?h:fr(h,Se)),g=t.elements.reference,m=t.rects.popper,v=t.elements[l?u===je?"reference":je:u],y=Or(Ve(v)?v:v.contextElement||tr(t.elements.popper),i,s),b=Ke(g),w=kr({reference:b,element:m,strategy:"absolute",placement:n}),E=xr(Object.assign({},m,w)),_=u===je?E:b,x={top:y.top-_.top+d.top,bottom:_.bottom-y.bottom+d.bottom,left:y.left-_.left+d.left,right:_.right-y.right+d.right},T=t.modifiersData.offset;if(u===je&&T){var O=T[n];Object.keys(x).forEach((function(t){var e=[Ie,Pe].indexOf(t)>=0?1:-1,r=[Ce,Pe].indexOf(t)>=0?"y":"x";x[t]+=O[r]*e}))}return x}function Cr(t,e){void 0===e&&(e={});var r=e.boundary,n=e.rootBoundary,o=e.padding,i=e.flipVariations,a=e.allowedAutoPlacements,s=void 0===a?qe:a,c=Ar(e.placement),u=c?i?Ue:Ue.filter((function(t){return Ar(t)===c})):Se,f=u.filter((function(t){return s.indexOf(t)>=0}));0===f.length&&(f=u,"production"!==process.env.NODE_ENV&&console.error(["Popper: The `allowedAutoPlacements` option did not allow any","placements. Ensure the `placement` option matches the variation","of the allowed placements.",'For example, "auto" cannot be used to allow "bottom-start".','Use "auto-start" instead.'].join(" ")));var l=f.reduce((function(e,i){return e[i]=Lr(t,{placement:i,boundary:r,rootBoundary:n,padding:o})[Je(i)],e}),{});return Object.keys(l).sort((function(t,e){return l[t]-l[e]}))}function Pr(t,e,r){return void 0===r&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function Ir(t){return[Ce,Ie,Pe,Re].some((function(e){return t[e]>=0}))}function Rr(t,e,r){void 0===r&&(r=!1);var n,o,i=tr(e),a=Ke(t),s=ze(e),c={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(s||!s&&!r)&&(("body"!==Ye(e)||wr(i))&&(c=(n=e)!==Fe(n)&&ze(n)?{scrollLeft:(o=n).scrollLeft,scrollTop:o.scrollTop}:yr(n)),ze(e)?((u=Ke(e)).x+=e.clientLeft,u.y+=e.clientTop):i&&(u.x=br(i))),{x:a.left+c.scrollLeft-u.x,y:a.top+c.scrollTop-u.y,width:a.width,height:a.height}}function Br(t){var e=new Map,r=new Set,n=[];function o(t){r.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach((function(t){if(!r.has(t)){var n=e.get(t);n&&o(n)}})),n.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){r.has(t.name)||o(t)})),n}function Sr(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return[].concat(r).reduce((function(t,e){return t.replace(/%s/,e)}),t)}var Nr='Popper: modifier "%s" provided an invalid %s property, expected %s but got %s',Dr=["name","enabled","phase","fn","effect","requires","options"];var Mr="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",jr={placement:"bottom",modifiers:[],strategy:"absolute"};function Ur(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some((function(t){return!(t&&"function"==typeof t.getBoundingClientRect)}))}function qr(t){void 0===t&&(t={});var e=t.defaultModifiers,r=void 0===e?[]:e,n=t.defaultOptions,o=void 0===n?jr:n;return function(t,e,n){void 0===n&&(n=o);var i,a,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},jr,o),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},c=[],u=!1,f={state:s,setOptions:function(n){l(),s.options=Object.assign({},o,s.options,n),s.scrollParents={reference:Ve(t)?_r(t):t.contextElement?_r(t.contextElement):[],popper:_r(e)};var i,a,u,p=function(t){var e=Br(t);return He.reduce((function(t,r){return t.concat(e.filter((function(t){return t.phase===r})))}),[])}(function(t){var e=t.reduce((function(t,e){var r=t[e.name];return t[e.name]=r?Object.assign({},r,e,{options:Object.assign({},r.options,e.options),data:Object.assign({},r.data,e.data)}):e,t}),{});return Object.keys(e).map((function(t){return e[t]}))}([].concat(r,s.options.modifiers)));if(s.orderedModifiers=p.filter((function(t){return t.enabled})),"production"!==process.env.NODE_ENV){if(function(t){t.forEach((function(e){Object.keys(e).forEach((function(r){switch(r){case"name":"string"!=typeof e.name&&console.error(Sr(Nr,String(e.name),'"name"','"string"','"'+String(e.name)+'"'));break;case"enabled":"boolean"!=typeof e.enabled&&console.error(Sr(Nr,e.name,'"enabled"','"boolean"','"'+String(e.enabled)+'"'));case"phase":He.indexOf(e.phase)<0&&console.error(Sr(Nr,e.name,'"phase"',"either "+He.join(", "),'"'+String(e.phase)+'"'));break;case"fn":"function"!=typeof e.fn&&console.error(Sr(Nr,e.name,'"fn"','"function"','"'+String(e.fn)+'"'));break;case"effect":"function"!=typeof e.effect&&console.error(Sr(Nr,e.name,'"effect"','"function"','"'+String(e.fn)+'"'));break;case"requires":Array.isArray(e.requires)||console.error(Sr(Nr,e.name,'"requires"','"array"','"'+String(e.requires)+'"'));break;case"requiresIfExists":Array.isArray(e.requiresIfExists)||console.error(Sr(Nr,e.name,'"requiresIfExists"','"array"','"'+String(e.requiresIfExists)+'"'));break;case"options":case"data":break;default:console.error('PopperJS: an invalid property has been provided to the "'+e.name+'" modifier, valid properties are '+Dr.map((function(t){return'"'+t+'"'})).join(", ")+'; but "'+r+'" was provided.')}e.requires&&e.requires.forEach((function(r){null==t.find((function(t){return t.name===r}))&&console.error(Sr('Popper: modifier "%s" requires "%s", but "%s" modifier is not available',String(e.name),r,r))}))}))}))}((i=[].concat(p,s.options.modifiers),a=function(t){return t.name},u=new Set,i.filter((function(t){var e=a(t);if(!u.has(e))return u.add(e),!0})))),Je(s.options.placement)===Be)s.orderedModifiers.find((function(t){return"flip"===t.name}))||console.error(['Popper: "auto" placements require the "flip" modifier be',"present and enabled to work."].join(" "));var h=Ze(e);[h.marginTop,h.marginRight,h.marginBottom,h.marginLeft].some((function(t){return parseFloat(t)}))&&console.warn(['Popper: CSS "margin" styles cannot be used to apply padding',"between the popper and its reference element or boundary.","To replicate margin, use the `offset` modifier, as well as","the `padding` option in the `preventOverflow` and `flip`","modifiers."].join(" "))}return s.orderedModifiers.forEach((function(t){var e=t.options,r=t.effect;if("function"==typeof r){var n=r({state:s,name:t.name,instance:f,options:void 0===e?{}:e});c.push(n||function(){})}})),f.update()},forceUpdate:function(){if(!u){var t=s.elements,e=t.reference,r=t.popper;if(Ur(e,r)){s.rects={reference:Rr(e,nr(r),"fixed"===s.options.strategy),popper:$e(r)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach((function(t){return s.modifiersData[t.name]=Object.assign({},t.data)}));for(var n=0,o=0;o<s.orderedModifiers.length;o++){if("production"!==process.env.NODE_ENV&&(n+=1)>100){console.error("Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.");break}if(!0!==s.reset){var i=s.orderedModifiers[o],a=i.fn,c=i.options;"function"==typeof a&&(s=a({state:s,options:void 0===c?{}:c,name:i.name,instance:f})||s)}else s.reset=!1,o=-1}}else"production"!==process.env.NODE_ENV&&console.error(Mr)}},update:(i=function(){return new Promise((function(t){f.forceUpdate(),t(s)}))},function(){return a||(a=new Promise((function(t){Promise.resolve().then((function(){a=void 0,t(i())}))}))),a}),destroy:function(){l(),u=!0}};if(!Ur(t,e))return"production"!==process.env.NODE_ENV&&console.error(Mr),f;function l(){c.forEach((function(t){return t()})),c=[]}return f.setOptions(n).then((function(t){!u&&n.onFirstUpdate&&n.onFirstUpdate(t)})),f}}var Hr=qr({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,r=t.instance,n=t.options,o=n.scroll,i=void 0===o||o,a=n.resize,s=void 0===a||a,c=Fe(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&u.forEach((function(t){t.addEventListener("scroll",r.update,hr)})),s&&c.addEventListener("resize",r.update,hr),function(){i&&u.forEach((function(t){t.removeEventListener("scroll",r.update,hr)})),s&&c.removeEventListener("resize",r.update,hr)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state;e.modifiersData[t.name]=kr({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,r=t.options,n=r.gpuAcceleration,o=void 0===n||n,i=r.adaptive,a=void 0===i||i,s=r.roundOffsets,c=void 0===s||s;if("production"!==process.env.NODE_ENV){var u=Ze(e.elements.popper).transitionProperty||"";a&&["transform","top","right","bottom","left"].some((function(t){return u.indexOf(t)>=0}))&&console.warn(["Popper: Detected CSS transitions on at least one of the following",'CSS properties: "transform", "top", "right", "bottom", "left".',"\n\n",'Disable the "computeStyles" modifier\'s `adaptive` option to allow',"for smooth transitions, or remove these properties from the CSS","transition declaration on the popper element if only transitioning","opacity or background-color for example.","\n\n","We recommend using the popper element as a wrapper around an inner","element that can have any CSS property transitioned for animations."].join(" "))}var f={placement:Je(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,pr(Object.assign({},f,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:c})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,pr(Object.assign({},f,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},Ge,{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,r=t.name,n=t.options.offset,o=void 0===n?[0,0]:n,i=qe.reduce((function(t,r){return t[r]=function(t,e,r){var n=Je(t),o=[Re,Ce].indexOf(n)>=0?-1:1,i="function"==typeof r?r(Object.assign({},e,{placement:t})):r,a=i[0],s=i[1];return a=a||0,s=(s||0)*o,[Re,Ie].indexOf(n)>=0?{x:s,y:a}:{x:a,y:s}}(r,e.rects,o),t}),{}),a=i[e.placement],s=a.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=a.x,e.modifiersData.popperOffsets.y+=s),e.modifiersData[r]=i}},{name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var o=r.mainAxis,i=void 0===o||o,a=r.altAxis,s=void 0===a||a,c=r.fallbackPlacements,u=r.padding,f=r.boundary,l=r.rootBoundary,p=r.altBoundary,h=r.flipVariations,d=void 0===h||h,g=r.allowedAutoPlacements,m=e.options.placement,v=Je(m),y=c||(v===m||!d?[gr(m)]:function(t){if(Je(t)===Be)return[];var e=gr(t);return[vr(t),e,vr(e)]}(m)),b=[m].concat(y).reduce((function(t,r){return t.concat(Je(r)===Be?Cr(e,{placement:r,boundary:f,rootBoundary:l,padding:u,flipVariations:d,allowedAutoPlacements:g}):r)}),[]),w=e.rects.reference,E=e.rects.popper,_=new Map,x=!0,T=b[0],O=0;O<b.length;O++){var A=b[O],k=Je(A),L=Ar(A)===Ne,C=[Ce,Pe].indexOf(k)>=0,P=C?"width":"height",I=Lr(e,{placement:A,boundary:f,rootBoundary:l,altBoundary:p,padding:u}),R=C?L?Ie:Re:L?Pe:Ce;w[P]>E[P]&&(R=gr(R));var B=gr(R),S=[];if(i&&S.push(I[k]<=0),s&&S.push(I[R]<=0,I[B]<=0),S.every((function(t){return t}))){T=A,x=!1;break}_.set(A,S)}if(x)for(var N=function(t){var e=b.find((function(e){var r=_.get(e);if(r)return r.slice(0,t).every((function(t){return t}))}));if(e)return T=e,"break"},D=d?3:1;D>0;D--){if("break"===N(D))break}e.placement!==T&&(e.modifiersData[n]._skip=!0,e.placement=T,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,r=t.options,n=t.name,o=r.mainAxis,i=void 0===o||o,a=r.altAxis,s=void 0!==a&&a,c=r.tether,u=void 0===c||c,f=r.tetherOffset,l=void 0===f?0:f,p=Lr(e,{boundary:r.boundary,rootBoundary:r.rootBoundary,padding:r.padding,altBoundary:r.altBoundary}),h=Je(e.placement),d=Ar(e.placement),g=!d,m=or(h),v="x"===m?"y":"x",y=e.modifiersData.popperOffsets,b=e.rects.reference,w=e.rects.popper,E="function"==typeof l?l(Object.assign({},e.rects,{placement:e.placement})):l,_={x:0,y:0};if(y){if(i||s){var x="y"===m?Ce:Re,T="y"===m?Pe:Ie,O="y"===m?"height":"width",A=y[m],k=y[m]+p[x],L=y[m]-p[T],C=u?-w[O]/2:0,P=d===Ne?b[O]:w[O],I=d===Ne?-w[O]:-b[O],R=e.elements.arrow,B=u&&R?$e(R):{width:0,height:0},S=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},N=S[x],D=S[T],M=cr(0,b[O],B[O]),j=g?b[O]/2-C-M-N-E:P-M-N-E,U=g?-b[O]/2+C+M+D+E:I+M+D+E,q=e.elements.arrow&&nr(e.elements.arrow),H=e.modifiersData.offset?e.modifiersData.offset[e.placement][m]:0,Y=y[m]+j-H-(q?"y"===m?q.clientTop||0:q.clientLeft||0:0),F=y[m]+U-H;if(i){var V=cr(u?ar(k,Y):k,A,u?ir(L,F):L);y[m]=V,_[m]=V-A}if(s){var z=y[v],W=z+p["x"===m?Ce:Re],G=z-p["x"===m?Pe:Ie],J=cr(u?ar(W,Y):W,z,u?ir(G,F):G);y[v]=J,_[v]=J-z}}e.modifiersData[n]=_}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,r=t.state,n=t.name,o=t.options,i=r.elements.arrow,a=r.modifiersData.popperOffsets,s=Je(r.placement),c=or(s),u=[Re,Ie].indexOf(s)>=0?"height":"width";if(i&&a){var f=function(t,e){return ur("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:fr(t,Se))}(o.padding,r),l=$e(i),p="y"===c?Ce:Re,h="y"===c?Pe:Ie,d=r.rects.reference[u]+r.rects.reference[c]-a[c]-r.rects.popper[u],g=a[c]-r.rects.reference[c],m=nr(i),v=m?"y"===c?m.clientHeight||0:m.clientWidth||0:0,y=v/2-l[u]/2+(d/2-g/2),b=cr(f[p],y,v-l[u]-f[h]);r.modifiersData[n]=((e={})[c]=b,e.centerOffset=b-y,e)}},effect:function(t){var e=t.state,r=t.options.element,n=void 0===r?"[data-popper-arrow]":r;null!=n&&("string"!=typeof n||(n=e.elements.popper.querySelector(n)))&&("production"!==process.env.NODE_ENV&&(ze(n)||console.error(['Popper: "arrow" element must be an HTMLElement (not an SVGElement).',"To use an SVG arrow, wrap it in an HTMLElement that will be used as","the arrow."].join(" "))),Qe(e.elements.popper,n)?e.elements.arrow=n:"production"!==process.env.NODE_ENV&&console.error(['Popper: "arrow" modifier\'s `element` must be a child of the popper',"element."].join(" ")))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,r=t.name,n=e.rects.reference,o=e.rects.popper,i=e.modifiersData.preventOverflow,a=Lr(e,{elementContext:"reference"}),s=Lr(e,{altBoundary:!0}),c=Pr(a,n),u=Pr(s,o,i),f=Ir(c),l=Ir(u);e.modifiersData[r]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:f,hasPopperEscaped:l},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":l})}}]}),Yr="tippy-content",Fr="tippy-arrow",Vr="tippy-svg-arrow",zr={passive:!0,capture:!0};function Wr(t,e,r){if(Array.isArray(t)){var n=t[e];return null==n?Array.isArray(r)?r[e]:r:n}return t}function Gr(t,e){var r={}.toString.call(t);return 0===r.indexOf("[object")&&r.indexOf(e+"]")>-1}function Jr(t,e){return"function"==typeof t?t.apply(void 0,e):t}function Kr(t,e){return 0===e?t:function(n){clearTimeout(r),r=setTimeout((function(){t(n)}),e)};var r}function $r(t){return[].concat(t)}function Qr(t,e){-1===t.indexOf(e)&&t.push(e)}function Zr(t){return[].slice.call(t)}function Xr(){return document.createElement("div")}function tn(t){return["Element","Fragment"].some((function(e){return Gr(t,e)}))}function en(t){return tn(t)?[t]:function(t){return Gr(t,"NodeList")}(t)?Zr(t):Array.isArray(t)?t:Zr(document.querySelectorAll(t))}function rn(t,e){t.forEach((function(t){t&&(t.style.transitionDuration=e+"ms")}))}function nn(t,e){t.forEach((function(t){t&&t.setAttribute("data-state",e)}))}function on(t,e,r){var n=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(e){t[n](e,r)}))}var an={isTouch:!1},sn=0;function cn(){an.isTouch||(an.isTouch=!0,window.performance&&document.addEventListener("mousemove",un))}function un(){var t=performance.now();t-sn<20&&(an.isTouch=!1,document.removeEventListener("mousemove",un)),sn=t}function fn(){var t,e=document.activeElement;(t=e)&&t._tippy&&t._tippy.reference===t&&(e.blur&&!e._tippy.state.isVisible&&e.blur())}var ln,pn="undefined"!=typeof window&&"undefined"!=typeof document?navigator.userAgent:"",hn=/MSIE |Trident\//.test(pn);function dn(t){return[t+"() was called on a"+("destroy"===t?"n already-":" ")+"destroyed instance. This is a no-op but","indicates a potential memory leak."].join(" ")}function gn(t){return t.replace(/[ \t]{2,}/g," ").replace(/^[ \t]*/gm,"").trim()}function mn(t){return gn("\n  %ctippy.js\n\n  %c"+gn(t)+"\n\n  %c This is a development-only message. It will be removed in production.\n  ")}function vn(t){return[mn(t),"color: #00C584; font-size: 1.3em; font-weight: bold;","line-height: 1.5","color: #a6a095;"]}function yn(t,e){var r;t&&!ln.has(e)&&(ln.add(e),(r=console).warn.apply(r,vn(e)))}function bn(t,e){var r;t&&!ln.has(e)&&(ln.add(e),(r=console).error.apply(r,vn(e)))}"production"!==process.env.NODE_ENV&&(ln=new Set);var wn={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},En=Object.assign({appendTo:function(){return document.body},aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},wn,{},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),_n=Object.keys(En);function xn(t){var e=(t.plugins||[]).reduce((function(e,r){var n=r.name;return n&&(e[n]=void 0!==t[n]?t[n]:r.defaultValue),e}),{});return Object.assign({},t,{},e)}function Tn(t,e){var r=Object.assign({},e,{content:Jr(e.content,[t])},e.ignoreAttributes?{}:function(t,e){return(e?Object.keys(xn(Object.assign({},En,{plugins:e}))):_n).reduce((function(e,r){var n=(t.getAttribute("data-tippy-"+r)||"").trim();if(!n)return e;if("content"===r)e[r]=n;else try{e[r]=JSON.parse(n)}catch(t){e[r]=n}return e}),{})}(t,e.plugins));return r.aria=Object.assign({},En.aria,{},r.aria),r.aria={expanded:"auto"===r.aria.expanded?e.interactive:r.aria.expanded,content:"auto"===r.aria.content?e.interactive?null:"describedby":r.aria.content},r}function On(t,e){void 0===t&&(t={}),void 0===e&&(e=[]),Object.keys(t).forEach((function(t){var r=function(t,e){var r=Object.assign({},t);return e.forEach((function(t){delete r[t]})),r}(En,Object.keys(wn)),n=!{}.hasOwnProperty.call(r,t);n&&(n=0===e.filter((function(e){return e.name===t})).length),yn(n,["`"+t+"`","is not a valid prop. You may have spelled it incorrectly, or if it's","a plugin, forgot to pass it in an array as props.plugins.","\n\n","All props: https://atomiks.github.io/tippyjs/v6/all-props/\n","Plugins: https://atomiks.github.io/tippyjs/v6/plugins/"].join(" "))}))}function An(t,e){t.innerHTML=e}function kn(t){var e=Xr();return!0===t?e.className=Fr:(e.className=Vr,tn(t)?e.appendChild(t):An(e,t)),e}function Ln(t,e){tn(e.content)?(An(t,""),t.appendChild(e.content)):"function"!=typeof e.content&&(e.allowHTML?An(t,e.content):t.textContent=e.content)}function Cn(t){var e=t.firstElementChild,r=Zr(e.children);return{box:e,content:r.find((function(t){return t.classList.contains(Yr)})),arrow:r.find((function(t){return t.classList.contains(Fr)||t.classList.contains(Vr)})),backdrop:r.find((function(t){return t.classList.contains("tippy-backdrop")}))}}function Pn(t){var e=Xr(),r=Xr();r.className="tippy-box",r.setAttribute("data-state","hidden"),r.setAttribute("tabindex","-1");var n=Xr();function o(r,n){var o=Cn(e),i=o.box,a=o.content,s=o.arrow;n.theme?i.setAttribute("data-theme",n.theme):i.removeAttribute("data-theme"),"string"==typeof n.animation?i.setAttribute("data-animation",n.animation):i.removeAttribute("data-animation"),n.inertia?i.setAttribute("data-inertia",""):i.removeAttribute("data-inertia"),i.style.maxWidth="number"==typeof n.maxWidth?n.maxWidth+"px":n.maxWidth,n.role?i.setAttribute("role",n.role):i.removeAttribute("role"),r.content===n.content&&r.allowHTML===n.allowHTML||Ln(a,t.props),n.arrow?s?r.arrow!==n.arrow&&(i.removeChild(s),i.appendChild(kn(n.arrow))):i.appendChild(kn(n.arrow)):s&&i.removeChild(s)}return n.className=Yr,n.setAttribute("data-state","hidden"),Ln(n,t.props),e.appendChild(r),r.appendChild(n),o(t.props,t.props),{popper:e,onUpdate:o}}Pn.$$tippy=!0;var In=1,Rn=[],Bn=[];function Sn(t,e){var r,n,o,i,a,s,c,u,f,l=Tn(t,Object.assign({},En,{},xn((r=e,Object.keys(r).reduce((function(t,e){return void 0!==r[e]&&(t[e]=r[e]),t}),{}))))),p=!1,h=!1,d=!1,g=!1,m=[],v=Kr(J,l.interactiveDebounce),y=In++,b=(f=l.plugins).filter((function(t,e){return f.indexOf(t)===e})),w={id:y,reference:t,popper:Xr(),popperInstance:null,props:l,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:b,clearDelayTimeouts:function(){clearTimeout(n),clearTimeout(o),cancelAnimationFrame(i)},setProps:function(e){"production"!==process.env.NODE_ENV&&yn(w.state.isDestroyed,dn("setProps"));if(w.state.isDestroyed)return;S("onBeforeUpdate",[w,e]),W();var r=w.props,n=Tn(t,Object.assign({},w.props,{},e,{ignoreAttributes:!0}));w.props=n,z(),r.interactiveDebounce!==n.interactiveDebounce&&(M(),v=Kr(J,n.interactiveDebounce));r.triggerTarget&&!n.triggerTarget?$r(r.triggerTarget).forEach((function(t){t.removeAttribute("aria-expanded")})):n.triggerTarget&&t.removeAttribute("aria-expanded");D(),B(),x&&x(r,n);w.popperInstance&&(Z(),tt().forEach((function(t){requestAnimationFrame(t._tippy.popperInstance.forceUpdate)})));S("onAfterUpdate",[w,e])},setContent:function(t){w.setProps({content:t})},show:function(){"production"!==process.env.NODE_ENV&&yn(w.state.isDestroyed,dn("show"));var t=w.state.isVisible,e=w.state.isDestroyed,r=!w.state.isEnabled,n=an.isTouch&&!w.props.touch,o=Wr(w.props.duration,0,En.duration);if(t||e||r||n)return;if(C().hasAttribute("disabled"))return;if(S("onShow",[w],!1),!1===w.props.onShow(w))return;w.state.isVisible=!0,L()&&(_.style.visibility="visible");B(),H(),w.state.isMounted||(_.style.transition="none");if(L()){var i=I();rn([i.box,i.content],0)}c=function(){var t;if(w.state.isVisible&&!g){if(g=!0,_.style.transition=w.props.moveTransition,L()&&w.props.animation){var e=I(),r=e.box,n=e.content;rn([r,n],o),nn([r,n],"visible")}N(),D(),Qr(Bn,w),null==(t=w.popperInstance)||t.forceUpdate(),w.state.isMounted=!0,S("onMount",[w]),w.props.animation&&L()&&function(t,e){F(t,e)}(o,(function(){w.state.isShown=!0,S("onShown",[w])}))}},function(){var t,e=w.props.appendTo,r=C();t=w.props.interactive&&e===En.appendTo||"parent"===e?r.parentNode:Jr(e,[r]);t.contains(_)||t.appendChild(_);Z(),"production"!==process.env.NODE_ENV&&yn(w.props.interactive&&e===En.appendTo&&r.nextElementSibling!==_,["Interactive tippy element may not be accessible via keyboard","navigation because it is not directly after the reference element","in the DOM source order.","\n\n","Using a wrapper <div> or <span> tag around the reference element","solves this by creating a new parentNode context.","\n\n","Specifying `appendTo: document.body` silences this warning, but it","assumes you are using a focus management solution to handle","keyboard navigation.","\n\n","See: https://atomiks.github.io/tippyjs/v6/accessibility/#interactivity"].join(" "))}()},hide:function(){"production"!==process.env.NODE_ENV&&yn(w.state.isDestroyed,dn("hide"));var t=!w.state.isVisible,e=w.state.isDestroyed,r=!w.state.isEnabled,n=Wr(w.props.duration,1,En.duration);if(t||e||r)return;if(S("onHide",[w],!1),!1===w.props.onHide(w))return;w.state.isVisible=!1,w.state.isShown=!1,g=!1,p=!1,L()&&(_.style.visibility="hidden");if(M(),Y(),B(),L()){var o=I(),i=o.box,a=o.content;w.props.animation&&(rn([i,a],n),nn([i,a],"hidden"))}N(),D(),w.props.animation?L()&&function(t,e){F(t,(function(){!w.state.isVisible&&_.parentNode&&_.parentNode.contains(_)&&e()}))}(n,w.unmount):w.unmount()},hideWithInteractivity:function(t){"production"!==process.env.NODE_ENV&&yn(w.state.isDestroyed,dn("hideWithInteractivity"));P().addEventListener("mousemove",v),Qr(Rn,v),v(t)},enable:function(){w.state.isEnabled=!0},disable:function(){w.hide(),w.state.isEnabled=!1},unmount:function(){"production"!==process.env.NODE_ENV&&yn(w.state.isDestroyed,dn("unmount"));w.state.isVisible&&w.hide();if(!w.state.isMounted)return;X(),tt().forEach((function(t){t._tippy.unmount()})),_.parentNode&&_.parentNode.removeChild(_);Bn=Bn.filter((function(t){return t!==w})),w.state.isMounted=!1,S("onHidden",[w])},destroy:function(){"production"!==process.env.NODE_ENV&&yn(w.state.isDestroyed,dn("destroy"));if(w.state.isDestroyed)return;w.clearDelayTimeouts(),w.unmount(),W(),delete t._tippy,w.state.isDestroyed=!0,S("onDestroy",[w])}};if(!l.render)return"production"!==process.env.NODE_ENV&&bn(!0,"render() function has not been supplied."),w;var E=l.render(w),_=E.popper,x=E.onUpdate;_.setAttribute("data-tippy-root",""),_.id="tippy-"+w.id,w.popper=_,t._tippy=w,_._tippy=w;var T=b.map((function(t){return t.fn(w)})),O=t.hasAttribute("aria-expanded");return z(),D(),B(),S("onCreate",[w]),l.showOnCreate&&et(),_.addEventListener("mouseenter",(function(){w.props.interactive&&w.state.isVisible&&w.clearDelayTimeouts()})),_.addEventListener("mouseleave",(function(t){w.props.interactive&&w.props.trigger.indexOf("mouseenter")>=0&&(P().addEventListener("mousemove",v),v(t))})),w;function A(){var t=w.props.touch;return Array.isArray(t)?t:[t,0]}function k(){return"hold"===A()[0]}function L(){var t;return!!(null==(t=w.props.render)?void 0:t.$$tippy)}function C(){return u||t}function P(){var t,e,r=C().parentNode;return r?(null==(e=$r(r)[0])||null==(t=e.ownerDocument)?void 0:t.body)?e.ownerDocument:document:document}function I(){return Cn(_)}function R(t){return w.state.isMounted&&!w.state.isVisible||an.isTouch||a&&"focus"===a.type?0:Wr(w.props.delay,t?0:1,En.delay)}function B(){_.style.pointerEvents=w.props.interactive&&w.state.isVisible?"":"none",_.style.zIndex=""+w.props.zIndex}function S(t,e,r){var n;(void 0===r&&(r=!0),T.forEach((function(r){r[t]&&r[t].apply(void 0,e)})),r)&&(n=w.props)[t].apply(n,e)}function N(){var e=w.props.aria;if(e.content){var r="aria-"+e.content,n=_.id;$r(w.props.triggerTarget||t).forEach((function(t){var e=t.getAttribute(r);if(w.state.isVisible)t.setAttribute(r,e?e+" "+n:n);else{var o=e&&e.replace(n,"").trim();o?t.setAttribute(r,o):t.removeAttribute(r)}}))}}function D(){!O&&w.props.aria.expanded&&$r(w.props.triggerTarget||t).forEach((function(t){w.props.interactive?t.setAttribute("aria-expanded",w.state.isVisible&&t===C()?"true":"false"):t.removeAttribute("aria-expanded")}))}function M(){P().removeEventListener("mousemove",v),Rn=Rn.filter((function(t){return t!==v}))}function j(t){if(!(an.isTouch&&(d||"mousedown"===t.type)||w.props.interactive&&_.contains(t.target))){if(C().contains(t.target)){if(an.isTouch)return;if(w.state.isVisible&&w.props.trigger.indexOf("click")>=0)return}else S("onClickOutside",[w,t]);!0===w.props.hideOnClick&&(w.clearDelayTimeouts(),w.hide(),h=!0,setTimeout((function(){h=!1})),w.state.isMounted||Y())}}function U(){d=!0}function q(){d=!1}function H(){var t=P();t.addEventListener("mousedown",j,!0),t.addEventListener("touchend",j,zr),t.addEventListener("touchstart",q,zr),t.addEventListener("touchmove",U,zr)}function Y(){var t=P();t.removeEventListener("mousedown",j,!0),t.removeEventListener("touchend",j,zr),t.removeEventListener("touchstart",q,zr),t.removeEventListener("touchmove",U,zr)}function F(t,e){var r=I().box;function n(t){t.target===r&&(on(r,"remove",n),e())}if(0===t)return e();on(r,"remove",s),on(r,"add",n),s=n}function V(e,r,n){void 0===n&&(n=!1),$r(w.props.triggerTarget||t).forEach((function(t){t.addEventListener(e,r,n),m.push({node:t,eventType:e,handler:r,options:n})}))}function z(){var t;k()&&(V("touchstart",G,{passive:!0}),V("touchend",K,{passive:!0})),(t=w.props.trigger,t.split(/\s+/).filter(Boolean)).forEach((function(t){if("manual"!==t)switch(V(t,G),t){case"mouseenter":V("mouseleave",K);break;case"focus":V(hn?"focusout":"blur",$);break;case"focusin":V("focusout",$)}}))}function W(){m.forEach((function(t){t.node.removeEventListener(t.eventType,t.handler,t.options)})),m=[]}function G(t){var e,r=!1;if(w.state.isEnabled&&!Q(t)&&!h){var n="focus"===(null==(e=a)?void 0:e.type);a=t,u=t.currentTarget,D(),!w.state.isVisible&&Gr(t,"MouseEvent")&&Rn.forEach((function(e){return e(t)})),"click"===t.type&&(w.props.trigger.indexOf("mouseenter")<0||p)&&!1!==w.props.hideOnClick&&w.state.isVisible?r=!0:et(t),"click"===t.type&&(p=!r),r&&!n&&rt(t)}}function J(t){var e=t.target,r=C().contains(e)||_.contains(e);"mousemove"===t.type&&r||function(t,e){var r=e.clientX,n=e.clientY;return t.every((function(t){var e=t.popperRect,o=t.popperState,i=t.props.interactiveBorder,a=o.placement.split("-")[0],s=o.modifiersData.offset;return!s||e.top-n+("bottom"===a?s.top.y:0)>i||n-e.bottom-("top"===a?s.bottom.y:0)>i||e.left-r+("right"===a?s.left.x:0)>i||r-e.right-("left"===a?s.right.x:0)>i}))}(tt().concat(_).map((function(t){var e,r=null==(e=t._tippy.popperInstance)?void 0:e.state;return r?{popperRect:t.getBoundingClientRect(),popperState:r,props:l}:null})).filter(Boolean),t)&&(M(),rt(t))}function K(t){Q(t)||w.props.trigger.indexOf("click")>=0&&p||(w.props.interactive?w.hideWithInteractivity(t):rt(t))}function $(t){w.props.trigger.indexOf("focusin")<0&&t.target!==C()||w.props.interactive&&t.relatedTarget&&_.contains(t.relatedTarget)||rt(t)}function Q(t){return!!an.isTouch&&k()!==t.type.indexOf("touch")>=0}function Z(){X();var e=w.props,r=e.popperOptions,n=e.placement,o=e.offset,i=e.getReferenceClientRect,a=e.moveTransition,s=L()?Cn(_).arrow:null,u=i?{getBoundingClientRect:i,contextElement:i.contextElement||C()}:t,f=[{name:"offset",options:{offset:o}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!a}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(t){var e=t.state;if(L()){var r=I().box;["placement","reference-hidden","escaped"].forEach((function(t){"placement"===t?r.setAttribute("data-placement",e.placement):e.attributes.popper["data-popper-"+t]?r.setAttribute("data-"+t,""):r.removeAttribute("data-"+t)})),e.attributes.popper={}}}}];L()&&s&&f.push({name:"arrow",options:{element:s,padding:3}}),f.push.apply(f,(null==r?void 0:r.modifiers)||[]),w.popperInstance=Hr(u,_,Object.assign({},r,{placement:n,onFirstUpdate:c,modifiers:f}))}function X(){w.popperInstance&&(w.popperInstance.destroy(),w.popperInstance=null)}function tt(){return Zr(_.querySelectorAll("[data-tippy-root]"))}function et(t){w.clearDelayTimeouts(),t&&S("onTrigger",[w,t]),H();var e=R(!0),r=A(),o=r[1];an.isTouch&&"hold"===r[0]&&o&&(e=o),e?n=setTimeout((function(){w.show()}),e):w.show()}function rt(t){if(w.clearDelayTimeouts(),S("onUntrigger",[w,t]),w.state.isVisible){if(!(w.props.trigger.indexOf("mouseenter")>=0&&w.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(t.type)>=0&&p)){var e=R(!1);e?o=setTimeout((function(){w.state.isVisible&&w.hide()}),e):i=requestAnimationFrame((function(){w.hide()}))}}else Y()}}function Nn(t,e){void 0===e&&(e={});var r=En.plugins.concat(e.plugins||[]);"production"!==process.env.NODE_ENV&&(!function(t){var e=!t,r="[object Object]"===Object.prototype.toString.call(t)&&!t.addEventListener;bn(e,["tippy() was passed","`"+String(t)+"`","as its targets (first) argument. Valid types are: String, Element,","Element[], or NodeList."].join(" ")),bn(r,["tippy() was passed a plain object which is not supported as an argument","for virtual positioning. Use props.getReferenceClientRect instead."].join(" "))}(t),On(e,r)),document.addEventListener("touchstart",cn,zr),window.addEventListener("blur",fn);var n=Object.assign({},e,{plugins:r}),o=en(t);"production"!==process.env.NODE_ENV&&yn(tn(n.content)&&o.length>1,["tippy() was passed an Element as the `content` prop, but more than","one tippy instance was created by this invocation. This means the","content element will only be appended to the last tippy instance.","\n\n","Instead, pass the .innerHTML of the element, or use a function that","returns a cloned version of the element instead.","\n\n","1) content: element.innerHTML\n","2) content: () => element.cloneNode(true)"].join(" "));var i=o.reduce((function(t,e){var r=e&&Sn(e,n);return r&&t.push(r),t}),[]);return tn(t)?i[0]:i}function Dn(t,e){void 0===e&&(e={});var r=e.insertAt;if(t&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===r&&n.firstChild?n.insertBefore(o,n.firstChild):n.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}Nn.defaultProps=En,Nn.setDefaultProps=function(t){"production"!==process.env.NODE_ENV&&On(t,[]),Object.keys(t).forEach((function(e){En[e]=t[e]}))},Nn.currentInput=an,Object.assign({},Ge,{effect:function(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow)}}),Nn.setDefaultProps({render:Pn});Dn('.tippy-box[data-animation=fade][data-state=hidden]{opacity:0}[data-tippy-root]{max-width:calc(100vw - 10px)}.tippy-box{position:relative;background-color:#333;color:#fff;border-radius:4px;font-size:14px;line-height:1.4;outline:0;transition-property:transform,visibility,opacity}.tippy-box[data-placement^=top]>.tippy-arrow{bottom:0}.tippy-box[data-placement^=top]>.tippy-arrow:before{bottom:-7px;left:0;border-width:8px 8px 0;border-top-color:initial;transform-origin:center top}.tippy-box[data-placement^=bottom]>.tippy-arrow{top:0}.tippy-box[data-placement^=bottom]>.tippy-arrow:before{top:-7px;left:0;border-width:0 8px 8px;border-bottom-color:initial;transform-origin:center bottom}.tippy-box[data-placement^=left]>.tippy-arrow{right:0}.tippy-box[data-placement^=left]>.tippy-arrow:before{border-width:8px 0 8px 8px;border-left-color:initial;right:-7px;transform-origin:center left}.tippy-box[data-placement^=right]>.tippy-arrow{left:0}.tippy-box[data-placement^=right]>.tippy-arrow:before{left:-7px;border-width:8px 8px 8px 0;border-right-color:initial;transform-origin:center right}.tippy-box[data-inertia][data-state=visible]{transition-timing-function:cubic-bezier(.54,1.5,.38,1.11)}.tippy-arrow{width:16px;height:16px;color:#333}.tippy-arrow:before{content:"";position:absolute;border-color:transparent;border-style:solid}.tippy-content{position:relative;padding:5px 9px;z-index:1}');Dn(".tippy-box[data-theme~=light]{color:#26323d;box-shadow:0 0 20px 4px rgba(154,161,177,.15),0 4px 80px -8px rgba(36,40,47,.25),0 4px 4px -2px rgba(91,94,105,.15);background-color:#fff}.tippy-box[data-theme~=light][data-placement^=top]>.tippy-arrow:before{border-top-color:#fff}.tippy-box[data-theme~=light][data-placement^=bottom]>.tippy-arrow:before{border-bottom-color:#fff}.tippy-box[data-theme~=light][data-placement^=left]>.tippy-arrow:before{border-left-color:#fff}.tippy-box[data-theme~=light][data-placement^=right]>.tippy-arrow:before{border-right-color:#fff}.tippy-box[data-theme~=light]>.tippy-backdrop{background-color:#fff}.tippy-box[data-theme~=light]>.tippy-svg-arrow{fill:#fff}");Dn('/* [class^="btnqrcode-button"] {\r\n  display: inline-block;\r\n  background-color: #1db4ac;\r\n  border: 2px solid #1db4ac;\r\n  color: #fff;\r\n  text-decoration: none;\r\n  text-align: center;\r\n  vertical-align: middle;\r\n  cursor: pointer;\r\n  height: 28px;\r\n  padding: 0 12px 0;\r\n  font-size: 14px;\r\n  border-radius: 4px;\r\n  line-height: 1.5;\r\n}\r\n\r\n[class^="btnqrcode-button"]:hover {\r\n  background-color: #4ac3bd;\r\n  border: 2px solid #4ac3bd;\r\n} */\r\n\r\n/* flex */\r\n.btnqrcode-url-text-dom {\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin: 5px 0;\r\n}\r\n.btnqrcode-url-text-dom-between {\r\n  justify-content: space-between;\r\n}\r\n.btnqrcode-url-text-dom-around {\r\n  justify-content: space-around;\r\n}\r\n.btnqrcode-url-text-dom-left {\r\n  justify-content: flex-start;\r\n}\r\n.btnqrcode-url-text-dom-right {\r\n  justify-content: flex-end;\r\n}\r\n.btnqrcode-url-text-dom-center {\r\n  justify-content: center;\r\n}\r\n\r\n.btnqrcode-url-text-dom a {\r\n  text-decoration: none;\r\n  display: inline-block;\r\n  color: #1db4ac;\r\n}\r\n\r\n/*  */\r\n.btnqrcode-open-url-text {\r\n  padding: 3px 7px;\r\n}\r\n.btnqrcode-open-url-text-default {\r\n  border: 0;\r\n}\r\n.btnqrcode-open-url-text-default a {\r\n  color: #1db4ac;\r\n}\r\n.btnqrcode-open-url-text-ghost {\r\n  border: 1px solid #1db4ac;\r\n  border-radius: 3px;\r\n}\r\n.btnqrcode-open-url-text-ghost a {\r\n  color: #1db4ac;\r\n}\r\n.btnqrcode-open-url-text-success {\r\n  border: 1px solid #1db4ac;\r\n  border-radius: 3px;\r\n  background-color: #1db4ac;\r\n}\r\n.btnqrcode-open-url-text-success a {\r\n  color: #fff;\r\n}\r\n.btnqrcode-copy-url-text {\r\n  padding: 3px 7px;\r\n}\r\n.btnqrcode-copy-url-text-default {\r\n  border: 0;\r\n}\r\n.btnqrcode-copy-url-text-default a {\r\n  color: #1db4ac;\r\n}\r\n.btnqrcode-copy-url-text-ghost {\r\n  border: 1px solid #1db4ac;\r\n  border-radius: 3px;\r\n}\r\n.btnqrcode-copy-url-text-ghost a {\r\n  color: #1db4ac;\r\n}\r\n.btnqrcode-copy-url-text-success {\r\n  border: 1px solid #1db4ac;\r\n  border-radius: 3px;\r\n  background-color: #1db4ac;\r\n}\r\n.btnqrcode-copy-url-text-success a {\r\n  color: #fff;\r\n}\r\n\r\n.btnqrcode-input-dom {\r\n  width: 100%;\r\n  text-align: center;\r\n  border-radius: 3px;\r\n  border: 1px solid #dcdee2;\r\n  color: #666;\r\n  padding: 4px 7px;\r\n  margin: 5px 0;\r\n}\r\n\r\n.btnqrcode-input-dom:focus{\r\n  border-color: #1db4ac;\r\n  outline: 0;\r\n}\r\n\r\n.tippy-content {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  padding: 9px 16px;\r\n}\r\n');var Mn=h(d((function(t,e){
/*!
	 * clipboard.js v2.0.8
	 * https://clipboardjs.com/
	 *
	 * Licensed MIT  Zeno Rocha
	 */
var r;r=function(){return function(){var t={134:function(t,e,r){r.d(e,{default:function(){return b}});var n=r(279),o=r.n(n),i=r(370),a=r.n(i),s=r(817),c=r.n(s);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.resolveOptions(e),this.initSelection()}var e,r,n;return e=t,(r=[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.container=t.container,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"createFakeElement",value:function(){var t="rtl"===document.documentElement.getAttribute("dir");this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var e=window.pageYOffset||document.documentElement.scrollTop;return this.fakeElem.style.top="".concat(e,"px"),this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.fakeElem}},{key:"selectFake",value:function(){var t=this,e=this.createFakeElement();this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.container.appendChild(e),this.selectedText=c()(e),this.copyText(),this.removeFake()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=c()(this.target),this.copyText()}},{key:"copyText",value:function(){var t;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),document.activeElement.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==u(t)||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}])&&f(e.prototype,r),n&&f(e,n),t}();function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=v(t);if(e){var o=v(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return m(this,r)}}function m(t,e){return!e||"object"!==p(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){var r="data-clipboard-".concat(t);if(e.hasAttribute(r))return e.getAttribute(r)}var b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(i,t);var e,r,n,o=g(i);function i(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this)).resolveOptions(e),r.listenClick(t),r}return e=i,n=[{key:"isSupported",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"==typeof t?[t]:t,r=!!document.queryCommandSupported;return e.forEach((function(t){r=r&&!!document.queryCommandSupported(t)})),r}}],(r=[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===p(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=a()(t,"click",(function(t){return e.onClick(t)}))}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new l({action:this.action(e),target:this.target(e),text:this.text(e),container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return y("action",t)}},{key:"defaultTarget",value:function(t){var e=y("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return y("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}])&&h(e.prototype,r),n&&h(e,n),i}(o())},828:function(t){if("undefined"!=typeof Element&&!Element.prototype.matches){var e=Element.prototype;e.matches=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector}t.exports=function(t,e){for(;t&&9!==t.nodeType;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}},438:function(t,e,r){var n=r(828);function o(t,e,r,n,o){var a=i.apply(this,arguments);return t.addEventListener(r,a,o),{destroy:function(){t.removeEventListener(r,a,o)}}}function i(t,e,r,o){return function(r){r.delegateTarget=n(r.target,e),r.delegateTarget&&o.call(t,r)}}t.exports=function(t,e,r,n,i){return"function"==typeof t.addEventListener?o.apply(null,arguments):"function"==typeof r?o.bind(null,document).apply(null,arguments):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,(function(t){return o(t,e,r,n,i)})))}},879:function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var r=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===r||"[object HTMLCollection]"===r)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"==typeof t||t instanceof String},e.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},370:function(t,e,r){var n=r(879),o=r(438);t.exports=function(t,e,r){if(!t&&!e&&!r)throw new Error("Missing required arguments");if(!n.string(e))throw new TypeError("Second argument must be a String");if(!n.fn(r))throw new TypeError("Third argument must be a Function");if(n.node(t))return function(t,e,r){return t.addEventListener(e,r),{destroy:function(){t.removeEventListener(e,r)}}}(t,e,r);if(n.nodeList(t))return function(t,e,r){return Array.prototype.forEach.call(t,(function(t){t.addEventListener(e,r)})),{destroy:function(){Array.prototype.forEach.call(t,(function(t){t.removeEventListener(e,r)}))}}}(t,e,r);if(n.string(t))return function(t,e,r){return o(document.body,t,e,r)}(t,e,r);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},817:function(t){t.exports=function(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var r=t.hasAttribute("readonly");r||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),r||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var n=window.getSelection(),o=document.createRange();o.selectNodeContents(t),n.removeAllRanges(),n.addRange(o),e=n.toString()}return e}},279:function(t){function e(){}e.prototype={on:function(t,e,r){var n=this.e||(this.e={});return(n[t]||(n[t]=[])).push({fn:e,ctx:r}),this},once:function(t,e,r){var n=this;function o(){n.off(t,o),e.apply(r,arguments)}return o._=e,this.on(t,o,r)},emit:function(t){for(var e=[].slice.call(arguments,1),r=((this.e||(this.e={}))[t]||[]).slice(),n=0,o=r.length;n<o;n++)r[n].fn.apply(r[n].ctx,e);return this},off:function(t,e){var r=this.e||(this.e={}),n=r[t],o=[];if(n&&e)for(var i=0,a=n.length;i<a;i++)n[i].fn!==e&&n[i].fn._!==e&&o.push(n[i]);return o.length?r[t]=o:delete r[t],this}},t.exports=e,t.exports.TinyEmitter=e}},e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={exports:{}};return t[n](o,o.exports,r),o.exports}return r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,{a:e}),e},r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r(134)}().default},t.exports=r()})));return function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};m(this,t),this.options=e,this.clipboard=null}return v(t,[{key:"onCopy",value:function(){}},{key:"init",value:function(){var t=this,e=this.options,r=e.isShowInput,n=void 0!==r&&r,o=e.openUrlText,i=void 0===o?"":o,a=e.openUrlType,s=void 0===a?"default":a,c=e.copyUrlText,u=void 0===c?"":c,f=e.copyUrlType,l=void 0===f?"default":f,p=e.urlTextPosTB,h=void 0===p?"bottom":p,d=e.urlTextPosLR,m=void 0===d?"between":d,v=e.noticeText,b=void 0===v?"":v,w=e.noticeTextColor,E=void 0===w?"":w,_=e.boundaryDom,x=void 0===_?"":_,T=setInterval(g(y.mark((function e(){return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!document.querySelector("[data-btnqrcode]")){e.next=2;break}return e.delegateYield(y.mark((function e(){var r,o,a;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:clearInterval(T),r=Array.from(document.querySelectorAll("[data-btnqrcode]")),o=0,a=y.mark((function t(){var e,a,c,f,p,d,g,v;return y.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(e=r[o]).dataset["btnqrcodeBtn".concat(o)]=o,a=e.dataset.btnqrcode,c="",f="",p="",d="",n&&(f='<input class="btnqrcode-input-dom" readonly="readonly" value='.concat(a," />")),b&&(E&&(g='style="color:'.concat(E,'"')),p='<div class="btnqrcode-notice-dom" '.concat(g,"><span>").concat(b,"</span></div>")),(i||u)&&(v="",i&&(v='<div class="btnqrcode-open-url-text btnqrcode-open-url-text-'.concat(s,'"><a href=').concat(a,' target="_blank">').concat(i,"</a></div>")),u&&(v+='<div class="btnqrcode-copy-url-text btnqrcode-copy-url-text-'.concat(l,'" data-clipboard-text="').concat(a,'"><a href="javascript:;">').concat(u,"</a></div>")),c='<div class="btnqrcode-url-text-dom btnqrcode-url-text-dom-'.concat(m,'">').concat(v,"</div>")),t.next=12,Le.toDataURL(a).then((function(t){d='<img class="btnqrcode-qrcode" src='.concat(t," />"),Nn("[data-btnqrcode-btn".concat(o,"]"),{theme:"light",allowHTML:!0,duration:[500,500],popperOptions:{modifiers:[{name:"flip",options:{boundary:x?document.querySelector(x):"clippingParents"}},{name:"preventOverflow",options:{boundary:x?document.querySelector(x):"clippingParents"}}]},interactive:!0,content:"bottom"===h?f+d+p+c:f+c+d+p})})).catch((function(t){console.error(t)}));case 12:Array.from(e.parentElement.lastElementChild.classList).includes("ivu-btn")&&e.addEventListener("mouseenter",(function(t){var e=Array.from(t.target.parentElement.querySelectorAll(".ivu-btn"));e[e.length-1].style.marginRight=0})),o++;case 14:case"end":return t.stop()}}),t)}));case 4:if(!(o<r.length)){e.next=8;break}return e.delegateYield(a(),"t0",6);case 6:e.next=4;break;case 8:t.clipboard&&t.clipboard.destroy(),t.clipboard=new Mn(".btnqrcode-copy-url-text"),t.clipboard.on("success",(function(){t.onCopy()}));case 11:case"end":return e.stop()}}),e)}))(),"t0",2);case 2:case"end":return e.stop()}}),e)}))),100)}}]),t}()}));
